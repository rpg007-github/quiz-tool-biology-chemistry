<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Study Hub | Interactive Quiz Platform</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=DM+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --navy: #0a1628;
  --deep: #111d35;
  --card: #162040;
  --accent: #00c9a7;
  --accent-glow: rgba(0, 201, 167, 0.15);
  --accent2: #6c5ce7;
  --warm: #ffd166;
  --coral: #ff6b6b;
  --text: #e8edf5;
  --muted: #8892a8;
  --border: rgba(255,255,255,0.08);
  --easy: #00c9a7;
  --medium: #ffd166;
  --hard: #ff6b6b;
  --radius: 16px;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'DM Sans', sans-serif;
  background: var(--navy);
  color: var(--text);
  min-height: 100vh;
  overflow-x: hidden;
}

body::before {
  content: '';
  position: fixed;
  top: -50%; left: -50%;
  width: 200%; height: 200%;
  background: radial-gradient(ellipse at 20% 20%, rgba(0,201,167,0.06) 0%, transparent 50%),
              radial-gradient(ellipse at 80% 80%, rgba(108,92,231,0.06) 0%, transparent 50%);
  z-index: 0;
  pointer-events: none;
}

.container {
  max-width: 900px;
  margin: 0 auto;
  padding: 20px;
  position: relative;
  z-index: 1;
}

/* Header */
.header {
  text-align: center;
  padding: 40px 0 30px;
}

.header h1 {
  font-family: 'DM Serif Display', serif;
  font-size: 2.8em;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 8px;
  letter-spacing: -0.5px;
}

.header p {
  color: var(--muted);
  font-size: 1.05em;
}

.uwf-badge {
  display: inline-block;
  background: var(--card);
  border: 1px solid var(--border);
  padding: 6px 16px;
  border-radius: 20px;
  font-size: 0.8em;
  color: var(--accent);
  margin-bottom: 16px;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  font-weight: 600;
}

/* Screens */
.screen { display: none; animation: fadeUp 0.4s ease; }
.screen.active { display: block; }

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Course Selection */
.course-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 16px;
  margin-top: 24px;
}

.course-card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 28px 24px;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.course-card::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--accent), var(--accent2));
  opacity: 0;
  transition: opacity 0.3s;
}

.course-card:hover {
  border-color: var(--accent);
  transform: translateY(-3px);
  box-shadow: 0 8px 30px rgba(0,201,167,0.1);
}

.course-card:hover::before { opacity: 1; }

.course-icon {
  font-size: 2em;
  margin-bottom: 12px;
}

.course-card h3 {
  font-family: 'DM Serif Display', serif;
  font-size: 1.3em;
  margin-bottom: 6px;
}

.course-card p {
  color: var(--muted);
  font-size: 0.88em;
  line-height: 1.5;
}

.question-count-badge {
  display: inline-block;
  background: var(--accent-glow);
  color: var(--accent);
  font-size: 0.75em;
  padding: 3px 10px;
  border-radius: 10px;
  margin-top: 10px;
  font-weight: 600;
}

/* Settings Panel */
.settings-panel {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 32px;
  margin-top: 24px;
}

.settings-panel h2 {
  font-family: 'DM Serif Display', serif;
  font-size: 1.6em;
  margin-bottom: 24px;
}

.setting-group {
  margin-bottom: 28px;
}

.setting-group label {
  display: block;
  font-weight: 600;
  margin-bottom: 12px;
  font-size: 0.95em;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-size: 0.82em;
}

.difficulty-buttons {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.diff-btn {
  padding: 10px 24px;
  border-radius: 10px;
  border: 2px solid var(--border);
  background: transparent;
  color: var(--text);
  cursor: pointer;
  font-family: 'DM Sans', sans-serif;
  font-weight: 600;
  font-size: 0.95em;
  transition: all 0.2s;
}

.diff-btn:hover { border-color: var(--muted); }
.diff-btn.active[data-diff="easy"] { border-color: var(--easy); background: rgba(0,201,167,0.12); color: var(--easy); }
.diff-btn.active[data-diff="medium"] { border-color: var(--medium); background: rgba(255,209,102,0.12); color: var(--medium); }
.diff-btn.active[data-diff="hard"] { border-color: var(--hard); background: rgba(255,107,107,0.12); color: var(--hard); }
.diff-btn.active[data-diff="mixed"] { border-color: var(--accent2); background: rgba(108,92,231,0.12); color: var(--accent2); }

.format-options {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.format-btn {
  padding: 10px 20px;
  border-radius: 10px;
  border: 2px solid var(--border);
  background: transparent;
  color: var(--text);
  cursor: pointer;
  font-family: 'DM Sans', sans-serif;
  font-weight: 500;
  font-size: 0.9em;
  transition: all 0.2s;
}

.format-btn:hover { border-color: var(--muted); }
.format-btn.active { border-color: var(--accent); background: var(--accent-glow); color: var(--accent); }

.num-questions-slider {
  width: 100%;
  margin-top: 8px;
  -webkit-appearance: none;
  appearance: none;
  height: 6px;
  border-radius: 3px;
  background: var(--deep);
  outline: none;
}

.num-questions-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 22px; height: 22px;
  border-radius: 50%;
  background: var(--accent);
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(0,201,167,0.3);
}

.slider-value {
  text-align: center;
  font-size: 1.8em;
  font-weight: 700;
  color: var(--accent);
  margin-top: 8px;
  font-family: 'JetBrains Mono', monospace;
}

.start-btn {
  width: 100%;
  padding: 16px;
  border: none;
  border-radius: 12px;
  background: linear-gradient(135deg, var(--accent), #00a88a);
  color: var(--navy);
  font-family: 'DM Sans', sans-serif;
  font-weight: 700;
  font-size: 1.1em;
  cursor: pointer;
  transition: all 0.3s;
  letter-spacing: 0.3px;
}

.start-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0,201,167,0.3);
}

/* Quiz Screen */
.quiz-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  flex-wrap: wrap;
  gap: 12px;
}

.quiz-info {
  display: flex;
  gap: 16px;
  align-items: center;
}

.quiz-badge {
  background: var(--card);
  border: 1px solid var(--border);
  padding: 6px 14px;
  border-radius: 8px;
  font-size: 0.85em;
  font-weight: 600;
}

.progress-bar-container {
  width: 100%;
  height: 6px;
  background: var(--deep);
  border-radius: 3px;
  margin-bottom: 28px;
  overflow: hidden;
}

.progress-bar {
  height: 100%;
  background: linear-gradient(90deg, var(--accent), var(--accent2));
  border-radius: 3px;
  transition: width 0.5s ease;
}

.question-card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 36px 32px;
  margin-bottom: 20px;
}

.question-meta {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.meta-tag {
  font-size: 0.75em;
  padding: 4px 12px;
  border-radius: 6px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.meta-tag.easy { background: rgba(0,201,167,0.12); color: var(--easy); }
.meta-tag.medium { background: rgba(255,209,102,0.12); color: var(--medium); }
.meta-tag.hard { background: rgba(255,107,107,0.12); color: var(--hard); }
.meta-tag.type { background: rgba(108,92,231,0.12); color: var(--accent2); }

.question-text {
  font-family: 'DM Serif Display', serif;
  font-size: 1.4em;
  line-height: 1.5;
  margin-bottom: 28px;
}

/* Multiple Choice */
.choices {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.choice-btn {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 16px 20px;
  border: 2px solid var(--border);
  border-radius: 12px;
  background: transparent;
  color: var(--text);
  cursor: pointer;
  font-family: 'DM Sans', sans-serif;
  font-size: 1em;
  text-align: left;
  transition: all 0.2s;
  line-height: 1.4;
}

.choice-btn:hover:not(.disabled) {
  border-color: var(--accent);
  background: var(--accent-glow);
}

.choice-letter {
  min-width: 32px; height: 32px;
  border-radius: 8px;
  background: var(--deep);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85em;
  flex-shrink: 0;
}

.choice-btn.correct {
  border-color: var(--easy);
  background: rgba(0,201,167,0.1);
}

.choice-btn.correct .choice-letter {
  background: var(--easy);
  color: var(--navy);
}

.choice-btn.wrong {
  border-color: var(--coral);
  background: rgba(255,107,107,0.1);
}

.choice-btn.wrong .choice-letter {
  background: var(--coral);
  color: white;
}

/* True/False */
.tf-buttons {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

.tf-btn {
  padding: 20px;
  border: 2px solid var(--border);
  border-radius: 12px;
  background: transparent;
  color: var(--text);
  cursor: pointer;
  font-family: 'DM Sans', sans-serif;
  font-weight: 700;
  font-size: 1.2em;
  transition: all 0.2s;
}

.tf-btn:hover:not(.disabled) {
  border-color: var(--accent);
  background: var(--accent-glow);
}

.tf-btn.correct { border-color: var(--easy); background: rgba(0,201,167,0.1); }
.tf-btn.wrong { border-color: var(--coral); background: rgba(255,107,107,0.1); }

/* Short Answer / Fill in the Blank */
.answer-input-container {
  display: flex;
  gap: 12px;
}

.answer-input {
  flex: 1;
  padding: 14px 18px;
  border: 2px solid var(--border);
  border-radius: 12px;
  background: var(--deep);
  color: var(--text);
  font-family: 'DM Sans', sans-serif;
  font-size: 1em;
  outline: none;
  transition: border-color 0.2s;
}

.answer-input:focus { border-color: var(--accent); }
.answer-input::placeholder { color: var(--muted); }

.submit-answer-btn {
  padding: 14px 28px;
  border: none;
  border-radius: 12px;
  background: var(--accent);
  color: var(--navy);
  font-family: 'DM Sans', sans-serif;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
}

.submit-answer-btn:hover { background: #00ddb5; }

/* Feedback */
.feedback {
  margin-top: 20px;
  padding: 18px 22px;
  border-radius: 12px;
  font-size: 0.95em;
  line-height: 1.6;
  display: none;
}

.feedback.correct {
  background: rgba(0,201,167,0.1);
  border: 1px solid rgba(0,201,167,0.2);
  color: var(--easy);
  display: block;
}

.feedback.wrong {
  background: rgba(255,107,107,0.1);
  border: 1px solid rgba(255,107,107,0.2);
  color: var(--coral);
  display: block;
}

.feedback strong { display: block; margin-bottom: 4px; font-size: 1.05em; }

/* Next Button */
.next-btn {
  width: 100%;
  padding: 14px;
  border: 2px solid var(--accent);
  border-radius: 12px;
  background: transparent;
  color: var(--accent);
  font-family: 'DM Sans', sans-serif;
  font-weight: 700;
  font-size: 1em;
  cursor: pointer;
  transition: all 0.2s;
  display: none;
}

.next-btn:hover {
  background: var(--accent);
  color: var(--navy);
}

/* Difficulty adjust during quiz */
.difficulty-adjust {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 16px;
  justify-content: center;
}

.adjust-label {
  font-size: 0.8em;
  color: var(--muted);
}

.adjust-btn {
  padding: 6px 14px;
  border: 1px solid var(--border);
  border-radius: 8px;
  background: transparent;
  color: var(--muted);
  cursor: pointer;
  font-family: 'DM Sans', sans-serif;
  font-weight: 600;
  font-size: 0.8em;
  transition: all 0.2s;
}

.adjust-btn:hover {
  border-color: var(--accent);
  color: var(--accent);
}

.adjust-btn.active-diff { border-color: var(--accent); color: var(--accent); background: var(--accent-glow); }

/* Results */
.results-card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 40px;
  text-align: center;
  margin-top: 24px;
}

.score-ring {
  width: 180px; height: 180px;
  margin: 0 auto 28px;
  position: relative;
}

.score-ring svg {
  width: 100%; height: 100%;
  transform: rotate(-90deg);
}

.score-ring circle {
  fill: none;
  stroke-width: 8;
}

.score-ring .bg { stroke: var(--deep); }

.score-ring .fill {
  stroke: var(--accent);
  stroke-linecap: round;
  transition: stroke-dashoffset 1.5s ease;
}

.score-text {
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

.score-percent {
  font-family: 'JetBrains Mono', monospace;
  font-size: 2.8em;
  font-weight: 700;
  color: var(--accent);
}

.score-label {
  font-size: 0.85em;
  color: var(--muted);
}

.results-card h2 {
  font-family: 'DM Serif Display', serif;
  font-size: 1.8em;
  margin-bottom: 8px;
}

.results-card p {
  color: var(--muted);
  margin-bottom: 28px;
}

.results-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
  margin-bottom: 28px;
}

.stat-box {
  background: var(--deep);
  padding: 18px;
  border-radius: 12px;
}

.stat-num {
  font-family: 'JetBrains Mono', monospace;
  font-size: 1.8em;
  font-weight: 700;
}

.stat-label {
  font-size: 0.8em;
  color: var(--muted);
  margin-top: 4px;
}

.result-buttons {
  display: flex;
  gap: 12px;
  justify-content: center;
  flex-wrap: wrap;
}

.result-btn {
  padding: 12px 28px;
  border-radius: 10px;
  font-family: 'DM Sans', sans-serif;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s;
  font-size: 0.95em;
}

.result-btn.primary {
  background: var(--accent);
  color: var(--navy);
  border: none;
}

.result-btn.secondary {
  background: transparent;
  color: var(--text);
  border: 2px solid var(--border);
}

.result-btn:hover { transform: translateY(-2px); }

.back-btn {
  background: transparent;
  border: none;
  color: var(--accent);
  cursor: pointer;
  font-family: 'DM Sans', sans-serif;
  font-weight: 600;
  font-size: 0.95em;
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 16px;
}

.back-btn:hover { text-decoration: underline; }

@media (max-width: 600px) {
  .header h1 { font-size: 2em; }
  .course-grid { grid-template-columns: 1fr; }
  .question-text { font-size: 1.15em; }
  .question-card { padding: 24px 20px; }
  .settings-panel { padding: 24px 20px; }
  .results-stats { grid-template-columns: 1fr; }
  .tf-buttons { grid-template-columns: 1fr; }
  .answer-input-container { flex-direction: column; }
}
</style>
</head>
<body>

<div class="container">
  <div class="header">
    <h1>Study Hub</h1>
    <p>Interactive quiz platform with adaptive difficulty</p>
  </div>

  <!-- Screen 1: Course Selection -->
  <div id="screen-courses" class="screen active">
    <div class="course-grid" id="courseGrid"></div>
  </div>

  <!-- Screen 2: Quiz Settings -->
  <div id="screen-settings" class="screen">
    <button class="back-btn" onclick="showScreen('courses')">&#8592; Back to courses</button>
    <div class="settings-panel">
      <h2 id="settingsTitle">Configure Your Quiz</h2>

      <div class="setting-group">
        <label>Difficulty</label>
        <div class="difficulty-buttons">
          <button class="diff-btn active" data-diff="mixed" onclick="setDifficulty('mixed')">Mixed</button>
          <button class="diff-btn" data-diff="easy" onclick="setDifficulty('easy')">Easy</button>
          <button class="diff-btn" data-diff="medium" onclick="setDifficulty('medium')">Medium</button>
          <button class="diff-btn" data-diff="hard" onclick="setDifficulty('hard')">Hard</button>
        </div>
      </div>

      <div class="setting-group">
        <label>Question Formats</label>
        <div class="format-options">
          <button class="format-btn active" data-fmt="all" onclick="toggleFormat('all')">All Types</button>
          <button class="format-btn" data-fmt="mc" onclick="toggleFormat('mc')">Multiple Choice</button>
          <button class="format-btn" data-fmt="tf" onclick="toggleFormat('tf')">True / False</button>
          <button class="format-btn" data-fmt="fill" onclick="toggleFormat('fill')">Fill in Blank</button>
          <button class="format-btn" data-fmt="short" onclick="toggleFormat('short')">Short Answer</button>
        </div>
      </div>

      <div class="setting-group">
        <label>Number of Questions</label>
        <input type="range" class="num-questions-slider" id="numSlider" min="5" max="30" value="10" oninput="updateSlider()">
        <div class="slider-value" id="sliderVal">10</div>
      </div>

      <button class="start-btn" onclick="startQuiz()">Start Quiz</button>
    </div>
  </div>

  <!-- Screen 3: Quiz -->
  <div id="screen-quiz" class="screen">
    <div class="quiz-header">
      <div class="quiz-info">
        <span class="quiz-badge" id="quizCourse"></span>
        <span class="quiz-badge" id="quizProgress"></span>
      </div>
      <div class="quiz-info">
        <span class="quiz-badge" id="quizScore">Score: 0</span>
      </div>
    </div>
    <div class="progress-bar-container">
      <div class="progress-bar" id="progressBar"></div>
    </div>
    <div id="questionArea"></div>
    <div class="difficulty-adjust">
      <span class="adjust-label">Adjust difficulty:</span>
      <button class="adjust-btn" data-adj="easy" onclick="adjustDiff('easy')">Easier</button>
      <button class="adjust-btn" data-adj="medium" onclick="adjustDiff('medium')">Medium</button>
      <button class="adjust-btn" data-adj="hard" onclick="adjustDiff('hard')">Harder</button>
    </div>
  </div>

  <!-- Screen 4: Results -->
  <div id="screen-results" class="screen">
    <div class="results-card">
      <div class="score-ring">
        <svg viewBox="0 0 200 200">
          <circle class="bg" cx="100" cy="100" r="88"/>
          <circle class="fill" id="scoreCircle" cx="100" cy="100" r="88"
            stroke-dasharray="553" stroke-dashoffset="553"/>
        </svg>
        <div class="score-text">
          <div class="score-percent" id="finalPercent">0%</div>
          <div class="score-label">Score</div>
        </div>
      </div>
      <h2 id="resultsMessage">Great work!</h2>
      <p id="resultsDetail"></p>
      <div class="results-stats">
        <div class="stat-box">
          <div class="stat-num" id="statCorrect" style="color:var(--easy)">0</div>
          <div class="stat-label">Correct</div>
        </div>
        <div class="stat-box">
          <div class="stat-num" id="statWrong" style="color:var(--coral)">0</div>
          <div class="stat-label">Incorrect</div>
        </div>
        <div class="stat-box">
          <div class="stat-num" id="statTotal" style="color:var(--accent2)">0</div>
          <div class="stat-label">Total</div>
        </div>
      </div>
      <div class="result-buttons">
        <button class="result-btn primary" onclick="retryQuiz()">Try Again</button>
        <button class="result-btn secondary" onclick="showScreen('courses')">Pick New Course</button>
      </div>
    </div>
  </div>
</div>

<script>
// ============================================================
// QUESTION BANK
// ============================================================
const QUESTIONS = {
  "bio1": {
    name: "Biology I",
    icon: "üß¨",
    desc: "Cell biology, genetics, evolution, and ecology fundamentals",
    questions: [
      // EASY MC
      {type:"mc",diff:"easy",q:"What is the basic unit of life?",choices:["Atom","Cell","Tissue","Organ"],answer:1,explain:"The cell is the smallest unit capable of carrying out all life functions."},
      {type:"mc",diff:"easy",q:"Which organelle is known as the 'powerhouse of the cell'?",choices:["Nucleus","Ribosome","Mitochondria","Golgi apparatus"],answer:2,explain:"Mitochondria produce ATP through cellular respiration."},
      {type:"mc",diff:"easy",q:"What molecule carries genetic information?",choices:["RNA","Protein","DNA","Lipid"],answer:2,explain:"DNA (deoxyribonucleic acid) stores and transmits hereditary information."},
      {type:"mc",diff:"easy",q:"Which macromolecule serves as the primary energy source for cells?",choices:["Proteins","Lipids","Carbohydrates","Nucleic acids"],answer:2,explain:"Carbohydrates like glucose are the preferred energy source for cellular respiration."},
      {type:"mc",diff:"easy",q:"What type of cell lacks a membrane-bound nucleus?",choices:["Eukaryotic","Prokaryotic","Plant","Animal"],answer:1,explain:"Prokaryotic cells (bacteria and archaea) lack a membrane-bound nucleus."},
      {type:"mc",diff:"easy",q:"Water is considered a polar molecule because it has:",choices:["Equal sharing of electrons","Unequal charge distribution","No hydrogen bonds","Ionic bonds"],answer:1,explain:"Oxygen is more electronegative than hydrogen, creating partial charges."},
      {type:"mc",diff:"easy",q:"Which process converts light energy into chemical energy?",choices:["Cellular respiration","Fermentation","Photosynthesis","Glycolysis"],answer:2,explain:"Photosynthesis in chloroplasts converts light energy to glucose."},
      {type:"mc",diff:"easy",q:"How many chromosomes do human somatic cells have?",choices:["23","44","46","92"],answer:2,explain:"Humans have 46 chromosomes (23 pairs) in their somatic (body) cells."},
      // MEDIUM MC
      {type:"mc",diff:"medium",q:"During which phase of mitosis do chromosomes align at the cell's equator?",choices:["Prophase","Metaphase","Anaphase","Telophase"],answer:1,explain:"During metaphase, chromosomes line up along the metaphase plate."},
      {type:"mc",diff:"medium",q:"Which type of transport requires energy (ATP)?",choices:["Osmosis","Facilitated diffusion","Active transport","Simple diffusion"],answer:2,explain:"Active transport moves molecules against their concentration gradient, requiring ATP."},
      {type:"mc",diff:"medium",q:"In DNA, adenine pairs with which nucleotide?",choices:["Cytosine","Guanine","Thymine","Uracil"],answer:2,explain:"Chargaff's rules: A pairs with T (in DNA) via two hydrogen bonds."},
      {type:"mc",diff:"medium",q:"What is the function of the rough endoplasmic reticulum?",choices:["Lipid synthesis","Protein synthesis and processing","ATP production","Cell division"],answer:1,explain:"Rough ER has ribosomes on its surface for protein synthesis and modification."},
      {type:"mc",diff:"medium",q:"Which enzyme unzips the DNA double helix during replication?",choices:["DNA polymerase","RNA polymerase","Helicase","Ligase"],answer:2,explain:"Helicase breaks hydrogen bonds between base pairs, separating the two strands."},
      {type:"mc",diff:"medium",q:"The fluid mosaic model describes the structure of:",choices:["DNA","Cytoskeleton","Cell membrane","Nuclear envelope"],answer:2,explain:"The cell membrane is a fluid mosaic of phospholipids, proteins, and cholesterol."},
      {type:"mc",diff:"medium",q:"What is the net yield of ATP from one glucose molecule in aerobic respiration?",choices:["2 ATP","4 ATP","36-38 ATP","100 ATP"],answer:2,explain:"Aerobic respiration yields approximately 36-38 ATP per glucose molecule."},
      {type:"mc",diff:"medium",q:"Which of the following is an example of a hydrogen bond?",choices:["Bond between Na and Cl","Bond between two oxygen atoms in O2","Bond between water molecules","Bond in a peptide chain"],answer:2,explain:"Water molecules form hydrogen bonds between the H of one molecule and O of another."},
      // HARD MC
      {type:"mc",diff:"hard",q:"In the lac operon, what role does allolactose play?",choices:["It acts as a corepressor","It binds to the operator","It induces transcription by binding the repressor","It activates RNA polymerase directly"],answer:2,explain:"Allolactose binds the lac repressor, causing it to release from the operator, enabling transcription."},
      {type:"mc",diff:"hard",q:"Which of the following correctly describes the chemiosmotic hypothesis?",choices:["ATP is produced by substrate-level phosphorylation only","A proton gradient across the inner mitochondrial membrane drives ATP synthase","Electrons are transferred directly to oxygen in the cytoplasm","NADH is produced in the intermembrane space"],answer:1,explain:"The proton (H+) gradient created by the ETC drives ATP synthase to produce ATP."},
      {type:"mc",diff:"hard",q:"A point mutation that changes a codon to a stop codon is called a:",choices:["Missense mutation","Silent mutation","Nonsense mutation","Frameshift mutation"],answer:2,explain:"Nonsense mutations create a premature stop codon, truncating the protein."},
      {type:"mc",diff:"hard",q:"During meiosis, genetic diversity is increased by all EXCEPT:",choices:["Crossing over","Independent assortment","Random fertilization","Mitotic spindle formation"],answer:3,explain:"Mitotic spindle formation is a mechanical process and does not contribute to genetic variation."},
      // TRUE/FALSE
      {type:"tf",diff:"easy",q:"Plant cells have a cell wall, but animal cells do not.",answer:true,explain:"Plant cells have a rigid cellulose cell wall; animal cells only have a plasma membrane."},
      {type:"tf",diff:"easy",q:"Enzymes are consumed during the reactions they catalyze.",answer:false,explain:"Enzymes are catalysts and are not consumed; they can be reused."},
      {type:"tf",diff:"easy",q:"All living organisms are made of cells.",answer:true,explain:"This is one of the fundamental tenets of cell theory."},
      {type:"tf",diff:"medium",q:"RNA polymerase requires a primer to begin transcription.",answer:false,explain:"Unlike DNA polymerase, RNA polymerase can initiate transcription without a primer."},
      {type:"tf",diff:"medium",q:"The products of the light reactions of photosynthesis include ATP and NADPH.",answer:true,explain:"Light reactions produce ATP, NADPH, and oxygen as a byproduct."},
      {type:"tf",diff:"medium",q:"Codominance and incomplete dominance produce identical phenotypic results.",answer:false,explain:"Codominance shows both phenotypes simultaneously; incomplete dominance shows a blended phenotype."},
      {type:"tf",diff:"hard",q:"Prokaryotes can perform oxidative phosphorylation using their cell membrane.",answer:true,explain:"Without mitochondria, prokaryotes use their plasma membrane for the electron transport chain."},
      {type:"tf",diff:"hard",q:"Alternative splicing allows one gene to code for multiple proteins.",answer:true,explain:"By including/excluding different exons, a single gene can produce multiple mRNA variants and proteins."},
      // FILL IN THE BLANK
      {type:"fill",diff:"easy",q:"The process by which cells divide to produce two identical daughter cells is called ____.",answer:["mitosis"],explain:"Mitosis produces two genetically identical diploid daughter cells."},
      {type:"fill",diff:"easy",q:"Organisms that make their own food using sunlight are called ____.",answer:["autotrophs","autotroph","producers"],explain:"Autotrophs (producers) convert light energy to chemical energy via photosynthesis."},
      {type:"fill",diff:"medium",q:"The three-nucleotide sequence on mRNA that codes for an amino acid is called a ____.",answer:["codon"],explain:"A codon is a sequence of three nucleotides on mRNA read during translation."},
      {type:"fill",diff:"medium",q:"The movement of water across a semipermeable membrane is called ____.",answer:["osmosis"],explain:"Osmosis is the passive diffusion of water from high to low water concentration."},
      {type:"fill",diff:"hard",q:"The enzyme that adds nucleotides during DNA replication is ____.",answer:["dna polymerase","polymerase"],explain:"DNA polymerase synthesizes new DNA strands by adding nucleotides complementary to the template."},
      {type:"fill",diff:"hard",q:"In cellular respiration, the final electron acceptor in the electron transport chain is ____.",answer:["oxygen","o2","molecular oxygen"],explain:"Oxygen accepts electrons at the end of the ETC, forming water."},
      // SHORT ANSWER
      {type:"short",diff:"medium",q:"Explain why water is essential for life. Name at least two of its important properties.",answer:["Water is a polar solvent, has high specific heat capacity, exhibits cohesion and adhesion, and serves as a medium for biochemical reactions."],keywords:["solvent","polar","specific heat","cohesion","adhesion","biochemical","hydrogen bond"],explain:"Water's polarity makes it an excellent solvent. Its high specific heat buffers temperature changes. Cohesion and adhesion enable capillary action in plants."},
      {type:"short",diff:"medium",q:"Describe the difference between a genotype and a phenotype.",answer:["Genotype is the genetic makeup (alleles) of an organism, while phenotype is the observable physical or biochemical characteristics expressed."],keywords:["genotype","genetic","allele","phenotype","observable","physical","trait","express"],explain:"Genotype refers to the alleles present; phenotype is the expression of those alleles as observable traits, influenced by both genetics and environment."},
      {type:"short",diff:"hard",q:"Explain how the structure of the phospholipid bilayer contributes to membrane function.",answer:["The amphipathic phospholipids form a bilayer with hydrophilic heads facing water and hydrophobic tails facing inward, creating a selectively permeable barrier."],keywords:["amphipathic","hydrophilic","hydrophobic","bilayer","selectively permeable","barrier","phospholipid","heads","tails","fluid"],explain:"Phospholipids' dual nature creates a barrier: polar heads interact with water while nonpolar tails prevent passage of most water-soluble molecules, making the membrane selectively permeable."},
    ]
  },
  "chem1": {
    name: "General Chemistry I",
    icon: "‚öóÔ∏è",
    desc: "Atomic structure, bonding, stoichiometry, and reactions",
    questions: [
      // EASY MC
      {type:"mc",diff:"easy",q:"What is the atomic number of carbon?",choices:["4","6","8","12"],answer:1,explain:"Carbon has 6 protons, giving it an atomic number of 6."},
      {type:"mc",diff:"easy",q:"Which subatomic particle has a negative charge?",choices:["Proton","Neutron","Electron","Photon"],answer:2,explain:"Electrons carry a negative charge of -1."},
      {type:"mc",diff:"easy",q:"What type of bond involves the sharing of electrons?",choices:["Ionic","Covalent","Metallic","Hydrogen"],answer:1,explain:"Covalent bonds form when atoms share electron pairs."},
      {type:"mc",diff:"easy",q:"How many elements are in a molecule of H‚ÇÇO?",choices:["1","2","3","4"],answer:1,explain:"Water (H‚ÇÇO) contains two elements: hydrogen and oxygen."},
      {type:"mc",diff:"easy",q:"What is the pH of a neutral solution?",choices:["0","5","7","14"],answer:2,explain:"A neutral solution has a pH of 7, where [H+] equals [OH-]."},
      {type:"mc",diff:"easy",q:"Which state of matter has a definite volume but no definite shape?",choices:["Solid","Liquid","Gas","Plasma"],answer:1,explain:"Liquids maintain their volume but take the shape of their container."},
      // MEDIUM MC
      {type:"mc",diff:"medium",q:"According to the octet rule, atoms tend to gain, lose, or share electrons to achieve:",choices:["2 valence electrons","4 valence electrons","6 valence electrons","8 valence electrons"],answer:3,explain:"The octet rule states atoms tend to bond to achieve 8 valence electrons (noble gas configuration)."},
      {type:"mc",diff:"medium",q:"What is the molarity of a solution with 2 moles of NaCl in 500 mL of solution?",choices:["1 M","2 M","4 M","0.5 M"],answer:2,explain:"Molarity = moles/liters = 2 mol / 0.5 L = 4 M."},
      {type:"mc",diff:"medium",q:"In a balanced equation, 2H‚ÇÇ + O‚ÇÇ ‚Üí 2H‚ÇÇO, how many moles of water are produced from 3 moles of H‚ÇÇ?",choices:["1.5","2","3","6"],answer:2,explain:"The ratio is 2:2, so 3 moles H‚ÇÇ produces 3 moles H‚ÇÇO."},
      {type:"mc",diff:"medium",q:"Which of the following is an exothermic reaction?",choices:["Melting ice","Evaporating water","Combustion of methane","Photosynthesis"],answer:2,explain:"Combustion releases heat energy to the surroundings, making it exothermic."},
      {type:"mc",diff:"medium",q:"What is the electron configuration of nitrogen (Z=7)?",choices:["1s¬≤ 2s¬≤ 2p¬π","1s¬≤ 2s¬≤ 2p¬≤","1s¬≤ 2s¬≤ 2p¬≥","1s¬≤ 2s¬≤ 2p‚Å¥"],answer:2,explain:"Nitrogen has 7 electrons: 1s¬≤ 2s¬≤ 2p¬≥."},
      {type:"mc",diff:"medium",q:"Le Chatelier's principle states that if a system at equilibrium is disturbed, it will:",choices:["Stop reacting","Shift to counteract the disturbance","Always shift right","Produce more heat"],answer:1,explain:"The system shifts in the direction that partially counteracts the applied change."},
      // HARD MC
      {type:"mc",diff:"hard",q:"What is the hybridization of carbon in methane (CH‚ÇÑ)?",choices:["sp","sp¬≤","sp¬≥","sp¬≥d"],answer:2,explain:"Carbon in methane forms 4 equivalent bonds requiring sp¬≥ hybridization (tetrahedral geometry)."},
      {type:"mc",diff:"hard",q:"The rate law for a reaction is Rate = k[A]¬≤[B]. If [A] is doubled, the rate:",choices:["Doubles","Triples","Quadruples","Increases 8-fold"],answer:2,explain:"Rate depends on [A]¬≤, so doubling [A] increases the rate by 2¬≤ = 4 times."},
      {type:"mc",diff:"hard",q:"Which thermodynamic quantity determines reaction spontaneity?",choices:["Enthalpy (ŒîH)","Entropy (ŒîS)","Gibbs free energy (ŒîG)","Activation energy"],answer:2,explain:"A reaction is spontaneous when ŒîG < 0 (ŒîG = ŒîH - TŒîS)."},
      {type:"mc",diff:"hard",q:"In a galvanic cell, oxidation occurs at the:",choices:["Cathode","Anode","Salt bridge","External wire"],answer:1,explain:"Oxidation occurs at the anode (AN OX); reduction occurs at the cathode (RED CAT)."},
      // TRUE/FALSE
      {type:"tf",diff:"easy",q:"An atom with more protons than electrons has a positive charge.",answer:true,explain:"Losing electrons gives a net positive charge, forming a cation."},
      {type:"tf",diff:"easy",q:"Noble gases are highly reactive elements.",answer:false,explain:"Noble gases have full valence shells, making them extremely stable and unreactive."},
      {type:"tf",diff:"medium",q:"Increasing temperature always increases the solubility of a gas in water.",answer:false,explain:"Gas solubility in water decreases with increasing temperature."},
      {type:"tf",diff:"medium",q:"A catalyst speeds up a reaction by lowering the activation energy.",answer:true,explain:"Catalysts provide an alternative reaction pathway with lower activation energy."},
      {type:"tf",diff:"hard",q:"In a buffer solution, the pH changes dramatically when a small amount of acid is added.",answer:false,explain:"Buffers resist pH changes when small amounts of acid or base are added."},
      {type:"tf",diff:"hard",q:"The second law of thermodynamics states that entropy of an isolated system tends to increase.",answer:true,explain:"Spontaneous processes increase the total entropy of the universe."},
      // FILL IN THE BLANK
      {type:"fill",diff:"easy",q:"The number of protons in an atom defines its ____ number.",answer:["atomic"],explain:"The atomic number equals the number of protons and defines the element."},
      {type:"fill",diff:"easy",q:"A substance that donates protons (H+) is called an ____.",answer:["acid"],explain:"According to the Bronsted-Lowry definition, acids are proton donors."},
      {type:"fill",diff:"medium",q:"The amount of substance containing 6.022 x 10¬≤¬≥ particles is called one ____.",answer:["mole","mol"],explain:"One mole = Avogadro's number (6.022 x 10¬≤¬≥) of particles."},
      {type:"fill",diff:"medium",q:"In a chemical equation, the ____ is the reactant that is completely consumed first.",answer:["limiting reagent","limiting reactant"],explain:"The limiting reagent determines the maximum amount of product that can form."},
      {type:"fill",diff:"hard",q:"The energy required to remove an electron from a gaseous atom is called ____ energy.",answer:["ionization"],explain:"Ionization energy is the energy needed to remove the most loosely bound electron."},
      // SHORT ANSWER
      {type:"short",diff:"medium",q:"Explain the difference between an ionic bond and a covalent bond.",answer:["Ionic bonds involve the transfer of electrons from one atom to another, while covalent bonds involve the sharing of electrons between atoms."],keywords:["transfer","sharing","electron","ionic","covalent","metal","nonmetal"],explain:"Ionic bonds form between metals and nonmetals via electron transfer. Covalent bonds form between nonmetals via electron sharing."},
      {type:"short",diff:"hard",q:"Describe what happens at the molecular level when NaCl dissolves in water.",answer:["Water molecules surround NaCl due to their polarity. The partially negative oxygen atoms attract Na+ ions while partially positive hydrogen atoms attract Cl- ions, pulling the crystal apart."],keywords:["polar","oxygen","hydrogen","ion","dissociate","hydration","solvation","surround","attract","Na","Cl","crystal"],explain:"Water's polarity allows it to hydrate ions: O atoms orient toward Na+ and H atoms toward Cl-, overcoming the lattice energy and dissolving the crystal."},
    ]
  },
  "algebra": {
    name: "College Algebra",
    icon: "üìê",
    desc: "Functions, equations, graphing, and polynomial operations",
    questions: [
      // EASY MC
      {type:"mc",diff:"easy",q:"What is the slope of the line y = 3x + 5?",choices:["5","3","1/3","8"],answer:1,explain:"In y = mx + b form, m is the slope. Here m = 3."},
      {type:"mc",diff:"easy",q:"Solve for x: 2x + 6 = 14",choices:["3","4","5","8"],answer:1,explain:"2x = 14 - 6 = 8, so x = 4."},
      {type:"mc",diff:"easy",q:"What is the y-intercept of y = -2x + 7?",choices:["-2","7","2","-7"],answer:1,explain:"In y = mx + b, b is the y-intercept. Here b = 7."},
      {type:"mc",diff:"easy",q:"Simplify: 3(x + 4)",choices:["3x + 4","3x + 7","3x + 12","x + 12"],answer:2,explain:"Distribute: 3(x) + 3(4) = 3x + 12."},
      {type:"mc",diff:"easy",q:"What is 5¬≤ equal to?",choices:["10","25","32","55"],answer:1,explain:"5¬≤ = 5 x 5 = 25."},
      {type:"mc",diff:"easy",q:"Which of the following is a linear equation?",choices:["y = x¬≤","y = 2x + 1","y = 1/x","y = ‚àöx"],answer:1,explain:"y = 2x + 1 is linear because x has an exponent of 1."},
      // MEDIUM MC
      {type:"mc",diff:"medium",q:"What are the solutions to x¬≤ - 5x + 6 = 0?",choices:["x = 2, 3","x = -2, -3","x = 1, 6","x = -1, -6"],answer:0,explain:"Factor: (x-2)(x-3) = 0, so x = 2 or x = 3."},
      {type:"mc",diff:"medium",q:"If f(x) = 2x¬≤ - 3, what is f(4)?",choices:["29","13","5","61"],answer:0,explain:"f(4) = 2(16) - 3 = 32 - 3 = 29."},
      {type:"mc",diff:"medium",q:"What is the vertex of the parabola y = (x - 3)¬≤ + 2?",choices:["(3, 2)","(-3, 2)","(3, -2)","(2, 3)"],answer:0,explain:"In vertex form y = (x-h)¬≤ + k, the vertex is (h, k) = (3, 2)."},
      {type:"mc",diff:"medium",q:"Simplify: (x¬≥)(x‚Å¥)",choices:["x‚Å∑","x¬π¬≤","x‚Åª¬π","2x‚Å∑"],answer:0,explain:"When multiplying with the same base, add exponents: 3 + 4 = 7."},
      {type:"mc",diff:"medium",q:"What is the domain of f(x) = 1/(x - 4)?",choices:["All real numbers","x ‚â† 0","x ‚â† 4","x > 4"],answer:2,explain:"The denominator cannot equal zero, so x ‚â† 4."},
      {type:"mc",diff:"medium",q:"The discriminant of ax¬≤ + bx + c is b¬≤ - 4ac. If it equals zero, the equation has:",choices:["No real solutions","One real solution","Two real solutions","Infinite solutions"],answer:1,explain:"When the discriminant = 0, there is exactly one repeated real root."},
      // HARD MC
      {type:"mc",diff:"hard",q:"What is the remainder when 2x¬≥ - 3x¬≤ + x - 5 is divided by (x - 2)?",choices:["1","-1","3","-3"],answer:2,explain:"By the Remainder Theorem: f(2) = 2(8) - 3(4) + 2 - 5 = 16 - 12 + 2 - 5 = 1. Wait, let me recalculate: 16 - 12 + 2 - 5 = 1. The answer is 1."},
      {type:"mc",diff:"hard",q:"Which transformation shifts f(x) left 2 units and up 3 units?",choices:["f(x-2) + 3","f(x+2) + 3","f(x+2) - 3","f(x-2) - 3"],answer:1,explain:"f(x+2) shifts left 2; adding 3 shifts up 3."},
      {type:"mc",diff:"hard",q:"If log‚ÇÇ(x) = 5, what is x?",choices:["10","25","32","64"],answer:2,explain:"log‚ÇÇ(x) = 5 means 2‚Åµ = x = 32."},
      {type:"mc",diff:"hard",q:"What is the inverse of f(x) = (2x + 3)/5?",choices:["f‚Åª¬π(x) = (5x - 3)/2","f‚Åª¬π(x) = (5x + 3)/2","f‚Åª¬π(x) = 5/(2x + 3)","f‚Åª¬π(x) = (2x - 3)/5"],answer:0,explain:"Swap x and y: x = (2y+3)/5, then 5x = 2y+3, so y = (5x-3)/2."},
      // TRUE/FALSE
      {type:"tf",diff:"easy",q:"The square root of 144 is 12.",answer:true,explain:"12 x 12 = 144."},
      {type:"tf",diff:"easy",q:"A vertical line passes the vertical line test for functions.",answer:false,explain:"A vertical line fails the vertical line test; it is not a function."},
      {type:"tf",diff:"medium",q:"The function f(x) = x¬≤ is a one-to-one function.",answer:false,explain:"f(x) = x¬≤ is not one-to-one because f(2) = f(-2) = 4; it fails the horizontal line test."},
      {type:"tf",diff:"medium",q:"Every polynomial function is continuous.",answer:true,explain:"Polynomial functions are continuous over all real numbers with no breaks or holes."},
      {type:"tf",diff:"hard",q:"The composition of functions is always commutative: f(g(x)) = g(f(x)).",answer:false,explain:"Function composition is generally not commutative. For example, f(x)=x¬≤ and g(x)=x+1 give different results."},
      // FILL IN THE BLANK
      {type:"fill",diff:"easy",q:"In the equation y = mx + b, m represents the ____ of the line.",answer:["slope"],explain:"The coefficient m gives the rate of change (slope) of the line."},
      {type:"fill",diff:"easy",q:"The expression x‚Å∞ equals ____ for any nonzero x.",answer:["1","one"],explain:"Any nonzero number raised to the power of 0 equals 1."},
      {type:"fill",diff:"medium",q:"The quadratic formula is x = (-b ¬± ‚àö(b¬≤-4ac)) / ____.",answer:["2a"],explain:"The full quadratic formula: x = (-b ¬± ‚àö(b¬≤-4ac)) / 2a."},
      {type:"fill",diff:"medium",q:"The set of all possible output values of a function is called the ____.",answer:["range"],explain:"The range is the set of all output (y) values a function can produce."},
      {type:"fill",diff:"hard",q:"A function that can be written as f(x) = aÀ£ where a > 0 and a ‚â† 1 is called a(n) ____ function.",answer:["exponential"],explain:"Exponential functions have the variable in the exponent with a constant base."},
      // SHORT ANSWER
      {type:"short",diff:"medium",q:"Explain the difference between a relation and a function.",answer:["A relation is any set of ordered pairs. A function is a special relation where each input (x-value) maps to exactly one output (y-value)."],keywords:["relation","function","ordered pair","input","output","one","each","x","y","unique","exactly"],explain:"A function is a relation where every x-value has exactly one corresponding y-value (passes the vertical line test)."},
      {type:"short",diff:"hard",q:"Describe how to determine if a function has an inverse, and explain the process of finding it.",answer:["A function has an inverse if it is one-to-one (passes the horizontal line test). To find it, swap x and y, then solve for y."],keywords:["one-to-one","horizontal line test","swap","solve","inverse","bijective","x","y"],explain:"Check one-to-one via the horizontal line test. To find f‚Åª¬π: replace f(x) with y, swap x and y, solve for y."},
    ]
  },
  "bio2": {
    name: "Biology II",
    icon: "üåø",
    desc: "Plant biology, animal physiology, ecology, and biodiversity",
    questions: [
      // EASY MC
      {type:"mc",diff:"easy",q:"Which kingdom includes multicellular, photosynthetic organisms?",choices:["Animalia","Fungi","Plantae","Protista"],answer:2,explain:"Kingdom Plantae includes multicellular organisms that perform photosynthesis."},
      {type:"mc",diff:"easy",q:"What is the main function of xylem in plants?",choices:["Transport sugars","Transport water and minerals","Photosynthesis","Reproduction"],answer:1,explain:"Xylem transports water and dissolved minerals from roots to the rest of the plant."},
      {type:"mc",diff:"easy",q:"Animals that maintain a constant body temperature are called:",choices:["Ectotherms","Endotherms","Heterotrophs","Autotrophs"],answer:1,explain:"Endotherms (birds and mammals) regulate their body temperature internally."},
      {type:"mc",diff:"easy",q:"Which phylum includes insects, spiders, and crustaceans?",choices:["Chordata","Mollusca","Arthropoda","Annelida"],answer:2,explain:"Arthropoda is the largest animal phylum, characterized by exoskeletons and jointed appendages."},
      {type:"mc",diff:"easy",q:"What structure in plants is primarily responsible for photosynthesis?",choices:["Root","Stem","Leaf","Flower"],answer:2,explain:"Leaves contain chloroplasts and are the primary site of photosynthesis."},
      {type:"mc",diff:"easy",q:"Which gas do animals primarily exhale?",choices:["Oxygen","Nitrogen","Carbon dioxide","Hydrogen"],answer:2,explain:"Animals exhale carbon dioxide as a waste product of cellular respiration."},
      {type:"mc",diff:"easy",q:"The binomial naming system for organisms was developed by:",choices:["Darwin","Mendel","Linnaeus","Pasteur"],answer:2,explain:"Carl Linnaeus developed the binomial nomenclature system (genus + species)."},
      // MEDIUM MC
      {type:"mc",diff:"medium",q:"In angiosperms, double fertilization produces:",choices:["Two embryos","An embryo and endosperm","Two seeds","A spore and gamete"],answer:1,explain:"One sperm fuses with the egg (embryo) and another with polar nuclei (triploid endosperm)."},
      {type:"mc",diff:"medium",q:"Which of the following is a characteristic of monocots?",choices:["Taproot system","Flower parts in multiples of 4 or 5","Parallel leaf venation","Two cotyledons"],answer:2,explain:"Monocots have parallel leaf veins, fibrous roots, and flower parts in multiples of 3."},
      {type:"mc",diff:"medium",q:"The nephron is the functional unit of which organ?",choices:["Liver","Lung","Kidney","Heart"],answer:2,explain:"Nephrons in the kidney filter blood and produce urine."},
      {type:"mc",diff:"medium",q:"Which type of ecological relationship benefits one organism while harming the other?",choices:["Mutualism","Commensalism","Parasitism","Competition"],answer:2,explain:"In parasitism, the parasite benefits at the expense of the host."},
      {type:"mc",diff:"medium",q:"What is the correct order of ecological organization from smallest to largest?",choices:["Population, organism, community, ecosystem","Organism, population, community, ecosystem","Community, population, organism, ecosystem","Ecosystem, community, population, organism"],answer:1,explain:"Individual organisms form populations, which form communities within ecosystems."},
      {type:"mc",diff:"medium",q:"Stomata in plants are primarily responsible for:",choices:["Water absorption","Nutrient storage","Gas exchange","Structural support"],answer:2,explain:"Stomata are pores on leaves that allow CO2 in and O2 and water vapor out."},
      {type:"mc",diff:"medium",q:"Which hormone is responsible for the fight-or-flight response?",choices:["Insulin","Melatonin","Epinephrine","Estrogen"],answer:2,explain:"Epinephrine (adrenaline) from the adrenal medulla triggers the fight-or-flight response."},
      // HARD MC
      {type:"mc",diff:"hard",q:"In C4 plants, carbon fixation first occurs in:",choices:["Bundle sheath cells","Mesophyll cells","Guard cells","Epidermal cells"],answer:1,explain:"C4 plants initially fix CO2 in mesophyll cells using PEP carboxylase, then shuttle it to bundle sheath cells for the Calvin cycle."},
      {type:"mc",diff:"hard",q:"Which of the following best describes an r-selected species?",choices:["Long lifespan, few offspring, extensive parental care","Short lifespan, many offspring, little parental care","Long lifespan, many offspring, moderate parental care","Short lifespan, few offspring, extensive parental care"],answer:1,explain:"R-selected species produce many offspring with minimal parental investment and rapid maturation."},
      {type:"mc",diff:"hard",q:"The countercurrent exchange mechanism in fish gills maximizes:",choices:["Blood pressure","Oxygen extraction from water","Glucose absorption","Hormone distribution"],answer:1,explain:"Blood flows opposite to water flow across gill lamellae, maintaining a concentration gradient for efficient O2 uptake."},
      {type:"mc",diff:"hard",q:"In ecological succession, the climax community is characterized by:",choices:["Pioneer species dominance","Maximum biodiversity and stability","Rapid population growth","Minimal species interactions"],answer:1,explain:"The climax community represents a relatively stable endpoint of succession with high biodiversity."},
      // TRUE/FALSE
      {type:"tf",diff:"easy",q:"Fungi are autotrophs that produce their own food.",answer:false,explain:"Fungi are heterotrophs that obtain nutrients by decomposing organic matter or parasitizing other organisms."},
      {type:"tf",diff:"easy",q:"All vertebrates have a backbone.",answer:true,explain:"By definition, vertebrates possess a vertebral column (backbone)."},
      {type:"tf",diff:"medium",q:"Phloem transports water from roots to leaves.",answer:false,explain:"Phloem transports sugars (products of photosynthesis) throughout the plant. Xylem transports water."},
      {type:"tf",diff:"medium",q:"An ecosystem includes both biotic and abiotic components.",answer:true,explain:"Ecosystems consist of living organisms (biotic) and their physical environment (abiotic factors)."},
      {type:"tf",diff:"medium",q:"Gymnosperms produce seeds enclosed in fruit.",answer:false,explain:"Gymnosperms produce naked seeds (not enclosed in fruit). Angiosperms produce seeds in fruit."},
      {type:"tf",diff:"hard",q:"Keystone species always have the largest population in their ecosystem.",answer:false,explain:"Keystone species have a disproportionately large ecological impact relative to their abundance, which is often small."},
      {type:"tf",diff:"hard",q:"Mycorrhizal fungi form mutualistic associations with plant roots.",answer:true,explain:"Mycorrhizae increase nutrient absorption for plants while receiving carbohydrates in return."},
      // FILL IN THE BLANK
      {type:"fill",diff:"easy",q:"The process by which organisms best suited to their environment survive and reproduce is called natural ____.",answer:["selection"],explain:"Natural selection is the mechanism of evolution where favorable traits increase in frequency."},
      {type:"fill",diff:"easy",q:"Animals without backbones are classified as ____.",answer:["invertebrates","invertebrate"],explain:"Invertebrates make up roughly 95% of all animal species."},
      {type:"fill",diff:"medium",q:"The zone in a body of water where sunlight penetrates and photosynthesis occurs is the ____ zone.",answer:["photic","euphotic"],explain:"The photic zone receives enough sunlight to support photosynthetic organisms."},
      {type:"fill",diff:"medium",q:"The waxy coating on plant leaves that prevents water loss is called the ____.",answer:["cuticle"],explain:"The cuticle is a waxy layer secreted by epidermal cells to reduce transpiration."},
      {type:"fill",diff:"hard",q:"The movement of energy through an ecosystem can be represented by a food chain or food ____.",answer:["web"],explain:"Food webs show the complex, interconnected feeding relationships in an ecosystem."},
      {type:"fill",diff:"hard",q:"The total amount of living tissue within a given trophic level is called ____.",answer:["biomass"],explain:"Biomass decreases at each successive trophic level due to energy loss."},
      // SHORT ANSWER
      {type:"short",diff:"medium",q:"Explain the difference between primary and secondary ecological succession.",answer:["Primary succession begins on bare substrate with no prior soil. Secondary succession occurs on land where a community was disturbed but soil remains."],keywords:["primary","secondary","bare","soil","disturbed","pioneer","rock","community","substrate","disturbance"],explain:"Primary succession starts from scratch (e.g., bare rock after a volcanic eruption). Secondary succession occurs after a disturbance like fire where soil and seeds remain."},
      {type:"short",diff:"hard",q:"Describe the alternation of generations in plants and explain how it differs from the animal life cycle.",answer:["Plants alternate between a multicellular haploid gametophyte and a multicellular diploid sporophyte generation. Animals have only a diploid multicellular stage."],keywords:["gametophyte","sporophyte","haploid","diploid","alternation","multicellular","spore","gamete","generation"],explain:"Plants have two distinct multicellular stages: the haploid gametophyte produces gametes, and the diploid sporophyte produces spores. Animals only have a multicellular diploid stage."},
    ]
  },
  "genetics": {
    name: "Genetics",
    icon: "üß™",
    desc: "Mendelian genetics, molecular genetics, gene regulation, and genomics",
    questions: [
      // EASY MC
      {type:"mc",diff:"easy",q:"What term describes an organism with two identical alleles for a trait?",choices:["Heterozygous","Homozygous","Hemizygous","Polyploid"],answer:1,explain:"Homozygous means having two copies of the same allele (AA or aa)."},
      {type:"mc",diff:"easy",q:"Who is considered the father of genetics?",choices:["Darwin","Watson","Mendel","Morgan"],answer:2,explain:"Gregor Mendel established the fundamental laws of inheritance through pea plant experiments."},
      {type:"mc",diff:"easy",q:"In a Punnett square cross of Aa x Aa, what fraction of offspring are expected to be homozygous recessive?",choices:["1/4","1/2","3/4","1"],answer:0,explain:"The cross yields 1 AA : 2 Aa : 1 aa, so 1/4 are homozygous recessive."},
      {type:"mc",diff:"easy",q:"Which molecule carries amino acids to the ribosome during translation?",choices:["mRNA","rRNA","tRNA","snRNA"],answer:2,explain:"Transfer RNA (tRNA) has an anticodon and carries the corresponding amino acid to the ribosome."},
      {type:"mc",diff:"easy",q:"What are the two strands of DNA held together by?",choices:["Covalent bonds","Ionic bonds","Hydrogen bonds","Peptide bonds"],answer:2,explain:"Complementary bases on opposite strands are connected by hydrogen bonds (A-T has 2, G-C has 3)."},
      {type:"mc",diff:"easy",q:"How many bases code for one amino acid?",choices:["1","2","3","4"],answer:2,explain:"A codon consists of three nucleotide bases that specify one amino acid."},
      {type:"mc",diff:"easy",q:"Sex-linked traits in humans are most commonly found on which chromosome?",choices:["Y chromosome","X chromosome","Chromosome 21","Autosome"],answer:1,explain:"Most sex-linked traits are X-linked because the X chromosome carries many more genes than the Y."},
      // MEDIUM MC
      {type:"mc",diff:"medium",q:"A cross between a red flower (RR) and white flower (rr) produces all pink offspring. This is an example of:",choices:["Complete dominance","Codominance","Incomplete dominance","Epistasis"],answer:2,explain:"Incomplete dominance produces a blended intermediate phenotype in heterozygotes."},
      {type:"mc",diff:"medium",q:"Which of the following would result in a frameshift mutation?",choices:["Substitution of one base","Insertion of three bases","Deletion of one base","Silent mutation"],answer:2,explain:"Inserting or deleting a number of bases not divisible by 3 shifts the reading frame of all downstream codons."},
      {type:"mc",diff:"medium",q:"In E. coli, the lac operon is activated when:",choices:["Glucose is present","Lactose is absent","Lactose is present and glucose is absent","Both glucose and lactose are present"],answer:2,explain:"The lac operon is induced when lactose is available and glucose is scarce (requiring CAP activation)."},
      {type:"mc",diff:"medium",q:"Linked genes are genes that:",choices:["Code for the same protein","Are on the same chromosome","Always show independent assortment","Are found on different chromosomes"],answer:1,explain:"Linked genes are located on the same chromosome and tend to be inherited together."},
      {type:"mc",diff:"medium",q:"What is the purpose of gel electrophoresis?",choices:["Amplify DNA","Separate DNA fragments by size","Translate mRNA","Replicate chromosomes"],answer:1,explain:"Gel electrophoresis separates DNA fragments based on size as they migrate through a gel matrix in an electric field."},
      {type:"mc",diff:"medium",q:"If both parents are carriers for a recessive disorder (Aa x Aa), what is the probability their child will be affected?",choices:["0%","25%","50%","75%"],answer:1,explain:"1/4 of offspring from Aa x Aa are expected to be aa (affected)."},
      {type:"mc",diff:"medium",q:"Which type of RNA is most abundant in cells?",choices:["mRNA","tRNA","rRNA","miRNA"],answer:2,explain:"Ribosomal RNA (rRNA) makes up about 80% of total cellular RNA as a structural component of ribosomes."},
      // HARD MC
      {type:"mc",diff:"hard",q:"In epistasis, the phenotypic ratio of a dihybrid cross (9:3:3:1) may be modified to:",choices:["Only 9:3:3:1","9:7 or 12:3:1 among other ratios","1:1 only","Always 3:1"],answer:1,explain:"Epistasis modifies expected ratios because one gene masks another, producing ratios like 9:7, 12:3:1, 9:3:4, or 15:1."},
      {type:"mc",diff:"hard",q:"A bacterial cell acquires new DNA from the environment and incorporates it into its genome. This process is called:",choices:["Transduction","Conjugation","Transformation","Binary fission"],answer:2,explain:"Transformation is the uptake of free DNA from the environment by a competent bacterial cell."},
      {type:"mc",diff:"hard",q:"The technique used to amplify specific DNA sequences in vitro is:",choices:["Gel electrophoresis","Western blot","Polymerase chain reaction (PCR)","Southern blot"],answer:2,explain:"PCR uses thermal cycling and DNA polymerase to exponentially amplify a specific DNA target sequence."},
      {type:"mc",diff:"hard",q:"Epigenetic modifications include all of the following EXCEPT:",choices:["DNA methylation","Histone acetylation","Point mutations","Chromatin remodeling"],answer:2,explain:"Point mutations alter the DNA sequence itself. Epigenetic modifications change gene expression without altering the sequence."},
      {type:"mc",diff:"hard",q:"In a trihybrid cross (AaBbCc x AaBbCc), how many phenotypic classes are expected with independent assortment and complete dominance?",choices:["4","8","16","27"],answer:1,explain:"With 3 genes showing complete dominance, there are 2^3 = 8 possible phenotypic classes."},
      // TRUE/FALSE
      {type:"tf",diff:"easy",q:"DNA replication is semiconservative, meaning each new molecule has one old and one new strand.",answer:true,explain:"Meselson and Stahl confirmed that each daughter DNA molecule retains one parental strand."},
      {type:"tf",diff:"easy",q:"Males can be carriers of autosomal recessive disorders.",answer:true,explain:"Anyone who is heterozygous (Aa) for an autosomal recessive trait is a carrier."},
      {type:"tf",diff:"medium",q:"Crossing over occurs during meiosis I between homologous chromosomes.",answer:true,explain:"Crossing over occurs during prophase I when homologous chromosomes exchange segments."},
      {type:"tf",diff:"medium",q:"A single gene always controls a single phenotypic trait.",answer:false,explain:"Pleiotropy occurs when one gene influences multiple traits, and many traits are polygenic."},
      {type:"tf",diff:"medium",q:"The anticodon is found on the mRNA molecule.",answer:false,explain:"The anticodon is on tRNA. It pairs with the codon on mRNA during translation."},
      {type:"tf",diff:"hard",q:"Transposable elements (transposons) can move from one location to another in the genome.",answer:true,explain:"Transposons are mobile genetic elements that can insert themselves at different positions, sometimes affecting gene expression."},
      {type:"tf",diff:"hard",q:"CRISPR-Cas9 technology uses RNA to guide a nuclease to a specific DNA sequence for editing.",answer:true,explain:"A guide RNA directs the Cas9 enzyme to a complementary DNA sequence, where it creates a double-strand break."},
      // FILL IN THE BLANK
      {type:"fill",diff:"easy",q:"The physical appearance of an organism for a given trait is its ____.",answer:["phenotype"],explain:"Phenotype is the observable expression of the genotype."},
      {type:"fill",diff:"easy",q:"A ____ is a segment of DNA that codes for a protein or functional RNA.",answer:["gene"],explain:"Genes are the basic units of heredity located on chromosomes."},
      {type:"fill",diff:"medium",q:"The process of copying DNA into mRNA is called ____.",answer:["transcription"],explain:"Transcription occurs in the nucleus where RNA polymerase synthesizes mRNA from a DNA template."},
      {type:"fill",diff:"medium",q:"Organisms with two different alleles for a gene (Aa) are said to be ____.",answer:["heterozygous"],explain:"Heterozygous individuals carry one dominant and one recessive allele."},
      {type:"fill",diff:"hard",q:"The separation of alleles during gamete formation is described by Mendel's Law of ____.",answer:["segregation"],explain:"The Law of Segregation states that two alleles for a gene separate during meiosis into different gametes."},
      {type:"fill",diff:"hard",q:"Small RNA molecules that regulate gene expression by binding to mRNA and preventing translation are called ____.",answer:["microrna","mirna","micro rna","micrornas"],explain:"MicroRNAs (miRNAs) are short non-coding RNAs that silence gene expression post-transcriptionally."},
      // SHORT ANSWER
      {type:"short",diff:"medium",q:"Explain how a Punnett square is used to predict the offspring of a genetic cross.",answer:["A Punnett square is a grid that shows all possible combinations of parental alleles in offspring. One parent's gametes are listed across the top and the other's along the side, and each cell shows a possible genotype."],keywords:["grid","allele","gamete","genotype","offspring","cross","parent","combination","predict","ratio","probability"],explain:"Each parent contributes one allele per gamete. The Punnett square systematically combines all possible gametes to predict genotypic and phenotypic ratios of offspring."},
      {type:"short",diff:"hard",q:"Compare and contrast the processes of transcription and translation.",answer:["Transcription converts DNA to mRNA in the nucleus using RNA polymerase. Translation converts mRNA to protein at ribosomes using tRNA. Both are essential steps in gene expression."],keywords:["transcription","translation","dna","mrna","protein","nucleus","ribosome","rna polymerase","trna","amino acid","codon","gene expression"],explain:"Transcription occurs in the nucleus (DNA to mRNA via RNA polymerase). Translation occurs at ribosomes in the cytoplasm (mRNA to protein via tRNA carrying amino acids)."},
      {type:"short",diff:"hard",q:"Describe how nondisjunction can lead to chromosomal abnormalities such as Down syndrome.",answer:["Nondisjunction is the failure of chromosomes to separate properly during meiosis, resulting in gametes with abnormal chromosome numbers. If a gamete with an extra chromosome 21 is fertilized, the resulting trisomy 21 causes Down syndrome."],keywords:["nondisjunction","meiosis","separate","chromosome","trisomy","21","gamete","aneuploidy","extra","failure"],explain:"Nondisjunction during meiosis I or II produces gametes with an extra or missing chromosome. Trisomy 21 (three copies of chromosome 21) results in Down syndrome."},
    ]
  },
  "chem2": {
    name: "General Chemistry II",
    icon: "üî¨",
    desc: "Thermodynamics, equilibria, kinetics, and transition metal complexes",
    questions: [
      // === THERMODYNAMICS ===
      // EASY MC
      {type:"mc",diff:"easy",q:"A reaction that releases heat to the surroundings is called:",choices:["Endothermic","Exothermic","Isothermal","Adiabatic"],answer:1,explain:"Exothermic reactions release energy as heat, resulting in a negative enthalpy change."},
      {type:"mc",diff:"easy",q:"What is the SI unit of energy?",choices:["Calorie","Watt","Joule","Pascal"],answer:2,explain:"The joule (J) is the SI unit of energy, though calories are also commonly used in chemistry."},
      {type:"mc",diff:"easy",q:"Entropy is a measure of:",choices:["Energy content","Temperature change","Disorder or randomness","Reaction speed"],answer:2,explain:"Entropy (S) quantifies the degree of disorder or the number of microstates in a system."},
      {type:"mc",diff:"easy",q:"Which law of thermodynamics states that energy cannot be created or destroyed?",choices:["Zeroth law","First law","Second law","Third law"],answer:1,explain:"The first law of thermodynamics is the law of conservation of energy."},
      // MEDIUM MC
      {type:"mc",diff:"medium",q:"For a spontaneous process at constant temperature and pressure, which must be true?",choices:["Delta H < 0","Delta S > 0","Delta G < 0","Delta G > 0"],answer:2,explain:"A process is spontaneous when the Gibbs free energy change (Delta G) is negative."},
      {type:"mc",diff:"medium",q:"Using Hess's Law, the enthalpy of a reaction can be determined by:",choices:["Measuring temperature only","Summing enthalpies of individual steps","Calculating the entropy change","Measuring the reaction rate"],answer:1,explain:"Hess's Law states that the total enthalpy change equals the sum of enthalpy changes for each step, regardless of path."},
      {type:"mc",diff:"medium",q:"At what temperature does a reaction with positive Delta H and positive Delta S become spontaneous?",choices:["At all temperatures","At no temperature","At high temperatures","At low temperatures"],answer:2,explain:"When Delta G = Delta H - T(Delta S), a positive H and positive S gives negative G only when T is large enough."},
      {type:"mc",diff:"medium",q:"The standard enthalpy of formation of an element in its standard state is:",choices:["Always positive","Always negative","Zero","Depends on the element"],answer:2,explain:"By definition, the standard enthalpy of formation of an element in its most stable form is zero."},
      {type:"mc",diff:"medium",q:"Which of the following processes has a positive entropy change?",choices:["Freezing water","Condensing steam","Dissolving salt in water","Compressing a gas"],answer:2,explain:"Dissolving increases disorder as the crystal lattice breaks apart and ions disperse in solution."},
      // HARD MC
      {type:"mc",diff:"hard",q:"Calculate Delta G at 298 K for a reaction with Delta H = -100 kJ and Delta S = -200 J/K:",choices:["-40.4 kJ","-159.6 kJ","+59.6 kJ","-100.2 kJ"],answer:0,explain:"Delta G = Delta H - T(Delta S) = -100 kJ - 298(-0.200 kJ/K) = -100 + 59.6 = -40.4 kJ."},
      {type:"mc",diff:"hard",q:"A bomb calorimeter measures heat at constant:",choices:["Pressure","Temperature","Volume","Entropy"],answer:2,explain:"A bomb calorimeter operates at constant volume, measuring internal energy change rather than enthalpy directly."},

      // === CHEMICAL KINETICS ===
      // EASY MC
      {type:"mc",diff:"easy",q:"What does the rate of a chemical reaction measure?",choices:["How much product is formed total","How quickly reactants are converted to products","The equilibrium constant","The energy of activation"],answer:1,explain:"Reaction rate measures the change in concentration of reactants or products per unit time."},
      {type:"mc",diff:"easy",q:"Which of the following increases the rate of a reaction?",choices:["Decreasing temperature","Decreasing concentration","Adding a catalyst","Increasing volume of container"],answer:2,explain:"Catalysts lower the activation energy, increasing the rate without being consumed."},
      // MEDIUM MC
      {type:"mc",diff:"medium",q:"For a first-order reaction, the half-life:",choices:["Depends on initial concentration","Is constant","Doubles with concentration","Equals the rate constant"],answer:1,explain:"First-order half-life = 0.693/k and is independent of initial concentration."},
      {type:"mc",diff:"medium",q:"The Arrhenius equation relates rate constant to:",choices:["Concentration and pressure","Temperature and activation energy","Volume and entropy","Equilibrium constant and pH"],answer:1,explain:"k = A * e^(-Ea/RT) shows how rate constant depends on temperature and activation energy."},
      {type:"mc",diff:"medium",q:"In the rate law Rate = k[A]^2[B], what is the overall order of the reaction?",choices:["First order","Second order","Third order","Zero order"],answer:2,explain:"Overall order = sum of exponents = 2 + 1 = 3 (third order)."},
      // HARD MC
      {type:"mc",diff:"hard",q:"For a second-order reaction, a plot of 1/[A] versus time yields:",choices:["A curve","A straight line with positive slope","A straight line with negative slope","A horizontal line"],answer:1,explain:"The integrated rate law for second order is 1/[A] = kt + 1/[A]0, which is linear with slope k."},
      {type:"mc",diff:"hard",q:"The rate-determining step in a reaction mechanism is the step that is:",choices:["Fastest","Slowest","Most exothermic","Reversible"],answer:1,explain:"The slowest elementary step limits the overall reaction rate and determines the rate law."},

      // === CHEMICAL EQUILIBRIUM ===
      // EASY MC
      {type:"mc",diff:"easy",q:"At equilibrium, the rate of the forward reaction is:",choices:["Greater than the reverse","Less than the reverse","Equal to the reverse","Zero"],answer:2,explain:"At equilibrium, forward and reverse rates are equal, so concentrations remain constant."},
      {type:"mc",diff:"easy",q:"If K >> 1 for a reaction, at equilibrium the mixture contains mostly:",choices:["Reactants","Products","Equal amounts","No molecules"],answer:1,explain:"A large K means the equilibrium lies far to the right, favoring product formation."},
      // MEDIUM MC
      {type:"mc",diff:"medium",q:"According to Le Chatelier's principle, adding more reactant to a system at equilibrium will:",choices:["Shift equilibrium toward reactants","Shift equilibrium toward products","Have no effect","Stop the reaction"],answer:1,explain:"Adding reactant increases its concentration, so the system shifts right to consume it and restore equilibrium."},
      {type:"mc",diff:"medium",q:"The reaction quotient Q is used to:",choices:["Calculate the rate constant","Determine if a system is at equilibrium","Measure activation energy","Find the enthalpy change"],answer:1,explain:"Comparing Q to K tells you which direction the reaction must shift to reach equilibrium."},
      {type:"mc",diff:"medium",q:"For the equilibrium N2(g) + 3H2(g) ‚áå 2NH3(g), what is the Kp expression?",choices:["(P_NH3)^2 / (P_N2)(P_H2)^3","(P_N2)(P_H2)^3 / (P_NH3)^2","(P_NH3) / (P_N2)(P_H2)","2(P_NH3) / (P_N2)(3P_H2)"],answer:0,explain:"Kp = products over reactants with partial pressures raised to stoichiometric coefficients."},
      {type:"mc",diff:"medium",q:"Increasing the temperature of an exothermic reaction at equilibrium will:",choices:["Shift right","Shift left","Have no effect","Increase K"],answer:1,explain:"Heat is a product of exothermic reactions, so increasing T shifts left to absorb the added heat, decreasing K."},
      // HARD MC
      {type:"mc",diff:"hard",q:"If Kc = 4.0 for A ‚áå 2B and the initial concentration of A is 1.0 M with no B, what is [B] at equilibrium?",choices:["0.5 M","1.0 M","1.24 M","2.0 M"],answer:2,explain:"Let x = amount of A consumed. Kc = (2x)^2/(1-x) = 4. Solving: 4x^2 = 4 - 4x, so 4x^2 + 4x - 4 = 0, x = 0.618. [B] = 2(0.618) = 1.24 M."},
      {type:"mc",diff:"hard",q:"For a heterogeneous equilibrium, which species are excluded from the equilibrium expression?",choices:["Gases only","Aqueous species","Pure solids and pure liquids","All reactants"],answer:2,explain:"Pure solids and liquids have constant concentrations (activity = 1) and are excluded from K expressions."},

      // === ACID-BASE EQUILIBRIA ===
      // EASY MC
      {type:"mc",diff:"easy",q:"A solution with pH = 3 is:",choices:["Basic","Neutral","Acidic","A buffer"],answer:2,explain:"pH below 7 indicates an acidic solution. pH 3 means [H+] = 10^-3 M."},
      // MEDIUM MC
      {type:"mc",diff:"medium",q:"What is the pH of a 0.01 M HCl solution?",choices:["1","2","3","4"],answer:1,explain:"HCl is a strong acid: pH = -log(0.01) = -log(10^-2) = 2."},
      {type:"mc",diff:"medium",q:"A buffer solution resists pH changes because it contains:",choices:["A strong acid and strong base","A weak acid and its conjugate base","Only water","A neutral salt"],answer:1,explain:"Buffers contain a weak acid/conjugate base pair that neutralizes small additions of acid or base."},
      {type:"mc",diff:"medium",q:"The Ka of a weak acid is 1.8 x 10^-5. What is the pKa?",choices:["4.74","5.00","3.52","1.80"],answer:0,explain:"pKa = -log(Ka) = -log(1.8 x 10^-5) = 4.74."},
      // HARD MC
      {type:"mc",diff:"hard",q:"At the half-equivalence point of a weak acid titration with strong base:",choices:["pH = 7","pH = pKa","pH = pKb","All acid is neutralized"],answer:1,explain:"At half-equivalence, [HA] = [A-], so the Henderson-Hasselbalch equation gives pH = pKa + log(1) = pKa."},
      {type:"mc",diff:"hard",q:"The common ion effect causes the solubility of a sparingly soluble salt to:",choices:["Increase","Decrease","Remain the same","Become zero"],answer:1,explain:"Adding a common ion shifts the dissolution equilibrium left, reducing solubility."},

      // === TRANSITION METALS ===
      // MEDIUM MC
      {type:"mc",diff:"medium",q:"What is the oxidation state of iron in Fe2O3?",choices:["+1","+2","+3","+4"],answer:2,explain:"Total charge must be 0: 2(Fe) + 3(-2) = 0, so 2(Fe) = +6, Fe = +3."},
      {type:"mc",diff:"medium",q:"Transition metals can form colored compounds because their d electrons can:",choices:["Form ionic bonds","Absorb specific wavelengths of visible light","Conduct electricity","Dissolve in water"],answer:1,explain:"d-d electron transitions absorb specific wavelengths; the transmitted/reflected light appears colored."},
      {type:"mc",diff:"medium",q:"The coordination number of a metal in an octahedral complex is:",choices:["2","4","6","8"],answer:2,explain:"An octahedral complex has 6 ligands arranged symmetrically around the central metal."},
      // HARD MC
      {type:"mc",diff:"hard",q:"In crystal field theory, the splitting of d orbitals in an octahedral field produces:",choices:["Two sets: t2g (lower) and eg (higher)","Two sets: eg (lower) and t2g (higher)","Five degenerate orbitals","Three sets of orbitals"],answer:0,explain:"In an octahedral field, d orbitals split into lower energy t2g (3 orbitals) and higher energy eg (2 orbitals)."},
      {type:"mc",diff:"hard",q:"A chelating ligand is one that:",choices:["Donates one pair of electrons","Bonds through multiple donor atoms to the same metal","Only bonds to transition metals","Is always negatively charged"],answer:1,explain:"Chelating (polydentate) ligands like EDTA bind through multiple donor atoms, forming ring structures with the metal."},

      // TRUE/FALSE
      {type:"tf",diff:"easy",q:"Gibbs free energy combines enthalpy and entropy into a single value.",answer:true,explain:"Delta G = Delta H - T(Delta S) combines both thermodynamic quantities."},
      {type:"tf",diff:"easy",q:"A catalyst changes the equilibrium constant of a reaction.",answer:false,explain:"Catalysts speed up both forward and reverse reactions equally; they do not shift equilibrium or change K."},
      {type:"tf",diff:"medium",q:"The entropy of a perfect crystal at absolute zero (0 K) is zero.",answer:true,explain:"This is the third law of thermodynamics: a perfect crystal at 0 K has exactly one microstate (S = 0)."},
      {type:"tf",diff:"medium",q:"Increasing pressure on a gaseous equilibrium always shifts it toward fewer moles of gas.",answer:true,explain:"Higher pressure favors the side with fewer gas molecules according to Le Chatelier's principle."},
      {type:"tf",diff:"medium",q:"The rate constant k increases with increasing temperature.",answer:true,explain:"The Arrhenius equation shows k increases exponentially with temperature."},
      {type:"tf",diff:"hard",q:"A reaction with a very large activation energy will be fast at room temperature.",answer:false,explain:"High activation energy means few molecules have sufficient energy to react, resulting in a slow reaction."},
      {type:"tf",diff:"hard",q:"The solubility product Ksp can be used to predict whether a precipitate will form.",answer:true,explain:"If the ion product Q > Ksp, precipitation occurs. If Q < Ksp, the solution is unsaturated."},

      // FILL IN THE BLANK
      {type:"fill",diff:"easy",q:"The symbol for entropy is ____.",answer:["s","S"],explain:"Entropy is represented by the letter S in thermodynamic equations."},
      {type:"fill",diff:"easy",q:"A substance that speeds up a reaction without being consumed is a ____.",answer:["catalyst"],explain:"Catalysts lower activation energy and are regenerated during the reaction."},
      {type:"fill",diff:"medium",q:"The equilibrium constant expression is the ratio of ____ to reactant concentrations at equilibrium.",answer:["product","products"],explain:"K = [products]^coefficients / [reactants]^coefficients at equilibrium."},
      {type:"fill",diff:"medium",q:"The Henderson-Hasselbalch equation is pH = pKa + log([A-]/[____]).",answer:["ha","HA"],explain:"pH = pKa + log([conjugate base]/[weak acid]) is the Henderson-Hasselbalch equation."},
      {type:"fill",diff:"hard",q:"In transition metal chemistry, a ligand that causes a large crystal field splitting is called a ____ field ligand.",answer:["strong"],explain:"Strong field ligands (like CN- and CO) cause large d-orbital splitting and tend to produce low-spin complexes."},
      {type:"fill",diff:"hard",q:"The equation Delta G = Delta H - T(Delta S) is called the ____ equation.",answer:["gibbs","gibbs free energy","gibbs-helmholtz"],explain:"The Gibbs free energy equation relates spontaneity to enthalpy, entropy, and temperature."},

      // SHORT ANSWER
      {type:"short",diff:"medium",q:"Explain Le Chatelier's principle and give an example of how it applies to a change in concentration.",answer:["Le Chatelier's principle states that a system at equilibrium will shift to counteract any applied stress. For example, adding more reactant shifts the equilibrium toward products to consume the excess."],keywords:["equilibrium","shift","stress","counteract","concentration","reactant","product","oppose","disturbance","restore"],explain:"Le Chatelier's principle predicts how equilibrium responds to changes in concentration, pressure, or temperature by shifting to oppose the change."},
      {type:"short",diff:"hard",q:"Explain why the rate law for a reaction cannot be determined from the balanced equation alone and must be found experimentally.",answer:["The rate law depends on the reaction mechanism, specifically the slow step, not the overall stoichiometry. A balanced equation shows net change but not the elementary steps involved."],keywords:["mechanism","elementary","step","slow","experimental","stoichiometry","order","rate","determine","overall"],explain:"Rate laws reflect the molecularity of elementary steps in the mechanism. Since most reactions occur in multiple steps, the overall equation does not reveal which step is rate-limiting."},
      {type:"short",diff:"hard",q:"Describe crystal field theory and explain why transition metal complexes are often colored.",answer:["Crystal field theory describes how ligands split the d orbitals of a transition metal into different energy levels. Electrons can absorb visible light to transition between these split levels, and the wavelengths not absorbed are what we see as color."],keywords:["crystal field","d orbital","split","ligand","energy","transition","visible light","absorb","color","wavelength","electron"],explain:"Ligands create an electric field that splits d orbitals. The energy gap corresponds to visible light wavelengths; absorption of certain colors means the complementary color is observed."},
    ]
  },
  "phys1": {
    name: "Physics I",
    icon: "üçé",
    desc: "Mechanics, forces, energy, momentum, and rotational motion",
    questions: [
      // EASY MC
      {type:"mc",diff:"easy",q:"What is the SI unit of force?",choices:["Joule","Watt","Newton","Pascal"],answer:2,explain:"The newton (N) is the SI unit of force, equal to kg*m/s^2."},
      {type:"mc",diff:"easy",q:"An object at rest tends to stay at rest. This describes Newton's:",choices:["First law","Second law","Third law","Law of gravitation"],answer:0,explain:"Newton's first law (law of inertia) states objects maintain their state of motion unless acted upon by a net force."},
      {type:"mc",diff:"easy",q:"What is the acceleration due to gravity near Earth's surface?",choices:["3.14 m/s^2","8.0 m/s^2","9.8 m/s^2","12.5 m/s^2"],answer:2,explain:"The acceleration due to gravity (g) near Earth's surface is approximately 9.8 m/s^2."},
      {type:"mc",diff:"easy",q:"Speed is a scalar quantity. What is the vector equivalent?",choices:["Distance","Velocity","Acceleration","Momentum"],answer:1,explain:"Velocity is speed with a direction, making it a vector quantity."},
      {type:"mc",diff:"easy",q:"What is the SI unit of work and energy?",choices:["Newton","Watt","Joule","Kilogram"],answer:2,explain:"The joule (J) is the SI unit of both work and energy, equal to N*m."},
      {type:"mc",diff:"easy",q:"If no net force acts on an object, its acceleration is:",choices:["9.8 m/s^2","Increasing","Zero","Undefined"],answer:2,explain:"By Newton's second law, F = ma. If net F = 0, then acceleration = 0."},
      {type:"mc",diff:"easy",q:"Mass is measured in which SI unit?",choices:["Newton","Pound","Kilogram","Gram"],answer:2,explain:"The kilogram (kg) is the SI base unit of mass."},
      // MEDIUM MC
      {type:"mc",diff:"medium",q:"A 5 kg object accelerates at 3 m/s^2. What is the net force acting on it?",choices:["1.67 N","8 N","15 N","45 N"],answer:2,explain:"F = ma = 5 kg x 3 m/s^2 = 15 N."},
      {type:"mc",diff:"medium",q:"A ball is thrown straight up. At the highest point, its velocity and acceleration are:",choices:["Both zero","Velocity = 0, acceleration = 9.8 m/s^2 downward","Both 9.8 m/s^2","Velocity = 9.8 m/s, acceleration = 0"],answer:1,explain:"At the peak, velocity is momentarily zero, but gravity still accelerates the ball downward at 9.8 m/s^2."},
      {type:"mc",diff:"medium",q:"The kinetic energy of a moving object depends on its mass and:",choices:["Acceleration","Force applied","Velocity squared","Distance traveled"],answer:2,explain:"KE = (1/2)mv^2. Kinetic energy depends on mass and the square of velocity."},
      {type:"mc",diff:"medium",q:"Two objects collide and stick together. This is a perfectly:",choices:["Elastic collision","Inelastic collision","Superelastic collision","Static collision"],answer:1,explain:"A perfectly inelastic collision is one where the objects stick together, maximizing kinetic energy loss."},
      {type:"mc",diff:"medium",q:"A car travels 100 meters in 5 seconds at constant velocity. What is its speed?",choices:["10 m/s","20 m/s","50 m/s","500 m/s"],answer:1,explain:"Speed = distance/time = 100 m / 5 s = 20 m/s."},
      {type:"mc",diff:"medium",q:"The work-energy theorem states that the net work done on an object equals the change in its:",choices:["Momentum","Potential energy","Kinetic energy","Acceleration"],answer:2,explain:"W_net = Delta KE. The net work done equals the change in kinetic energy."},
      {type:"mc",diff:"medium",q:"What is the momentum of a 10 kg object moving at 4 m/s?",choices:["2.5 kg*m/s","14 kg*m/s","40 kg*m/s","400 kg*m/s"],answer:2,explain:"Momentum p = mv = 10 kg x 4 m/s = 40 kg*m/s."},
      {type:"mc",diff:"medium",q:"A frictionless inclined plane reduces the ____ needed to lift an object but not the ____ done.",choices:["Work, force","Force, work","Energy, time","Momentum, energy"],answer:1,explain:"An inclined plane reduces the required force by increasing the distance, but total work (force x distance) remains the same."},
      // HARD MC
      {type:"mc",diff:"hard",q:"A 2 kg ball moving at 6 m/s collides elastically with a stationary 2 kg ball. After collision, the first ball:",choices:["Continues at 6 m/s","Stops completely","Moves at 3 m/s","Bounces back at 6 m/s"],answer:1,explain:"In a head-on elastic collision between equal masses, the moving object stops and the stationary one moves with the original velocity."},
      {type:"mc",diff:"hard",q:"The moment of inertia of a solid sphere about its center is:",choices:["(1/2)MR^2","(2/5)MR^2","(2/3)MR^2","MR^2"],answer:1,explain:"For a solid uniform sphere rotating about a central axis, I = (2/5)MR^2."},
      {type:"mc",diff:"hard",q:"An object in circular motion at constant speed has acceleration directed:",choices:["Tangent to the circle","Outward from the center","Toward the center","In the direction of motion"],answer:2,explain:"Centripetal acceleration always points toward the center of the circular path, changing the direction of velocity."},
      {type:"mc",diff:"hard",q:"A satellite in orbit is in free fall. The reason it doesn't hit Earth is:",choices:["There is no gravity in space","Its tangential velocity keeps it falling around Earth","It is beyond Earth's gravitational pull","Air resistance holds it up"],answer:1,explain:"The satellite falls toward Earth continuously, but its tangential velocity means it falls around the curved Earth rather than into it."},
      // TRUE/FALSE
      {type:"tf",diff:"easy",q:"Weight and mass are the same thing.",answer:false,explain:"Mass is the amount of matter (kg); weight is the gravitational force on that mass (W = mg, in newtons)."},
      {type:"tf",diff:"easy",q:"Friction always opposes the direction of motion.",answer:true,explain:"Kinetic friction acts opposite to the direction of sliding; static friction opposes the tendency to move."},
      {type:"tf",diff:"medium",q:"An object moving at constant velocity has zero net force acting on it.",answer:true,explain:"By Newton's first law, constant velocity (including constant speed in a straight line) means zero net force."},
      {type:"tf",diff:"medium",q:"Doubling the speed of an object doubles its kinetic energy.",answer:false,explain:"KE = (1/2)mv^2. Doubling speed quadruples kinetic energy because of the v^2 relationship."},
      {type:"tf",diff:"medium",q:"In a closed system, total momentum is conserved during a collision.",answer:true,explain:"The law of conservation of momentum states total momentum is conserved when no external forces act."},
      {type:"tf",diff:"hard",q:"Angular momentum is conserved in the absence of external torques.",answer:true,explain:"Just as linear momentum is conserved without net force, angular momentum is conserved without net torque."},
      {type:"tf",diff:"hard",q:"An object can have zero velocity and nonzero acceleration simultaneously.",answer:true,explain:"Example: a ball at the peak of its trajectory has v = 0 but a = -9.8 m/s^2 due to gravity."},
      // FILL IN THE BLANK
      {type:"fill",diff:"easy",q:"Newton's second law is expressed as F = ____.",answer:["ma","m*a","m x a"],explain:"Force equals mass times acceleration."},
      {type:"fill",diff:"easy",q:"The rate of change of position is called ____.",answer:["velocity","speed"],explain:"Velocity is the time derivative of position (displacement per unit time)."},
      {type:"fill",diff:"medium",q:"The product of an object's mass and velocity is its ____.",answer:["momentum"],explain:"Momentum p = mv is a vector quantity in the direction of velocity."},
      {type:"fill",diff:"medium",q:"Energy stored due to an object's height above the ground is called gravitational ____ energy.",answer:["potential"],explain:"Gravitational potential energy PE = mgh depends on mass, gravity, and height."},
      {type:"fill",diff:"hard",q:"The rotational equivalent of force is called ____.",answer:["torque"],explain:"Torque (tau = r x F) causes angular acceleration, just as force causes linear acceleration."},
      {type:"fill",diff:"hard",q:"The principle that energy cannot be created or destroyed is called the law of ____ of energy.",answer:["conservation"],explain:"The law of conservation of energy is fundamental to all of physics."},
      // SHORT ANSWER
      {type:"short",diff:"medium",q:"Explain Newton's third law and give a real-world example.",answer:["For every action there is an equal and opposite reaction. When you push on a wall, the wall pushes back on you with equal force in the opposite direction."],keywords:["action","reaction","equal","opposite","force","pair","push","third law","newton"],explain:"Newton's third law means forces always come in pairs. If object A exerts a force on B, then B exerts an equal and opposite force on A."},
      {type:"short",diff:"hard",q:"Explain the difference between elastic and inelastic collisions in terms of energy and momentum conservation.",answer:["Both types conserve momentum. Elastic collisions also conserve kinetic energy. Inelastic collisions lose some kinetic energy to heat, sound, or deformation."],keywords:["elastic","inelastic","momentum","kinetic energy","conserve","heat","deformation","sound","loss"],explain:"Momentum is always conserved in collisions (no external forces). Kinetic energy is only conserved in elastic collisions; inelastic collisions convert some KE to other forms."},
    ]
  },
  "phys2": {
    name: "Physics II",
    icon: "‚ö°",
    desc: "Electricity, magnetism, circuits, optics, and waves",
    questions: [
      // EASY MC
      {type:"mc",diff:"easy",q:"What is the SI unit of electric charge?",choices:["Volt","Ampere","Coulomb","Ohm"],answer:2,explain:"The coulomb (C) is the SI unit of electric charge."},
      {type:"mc",diff:"easy",q:"Like charges ____ each other and opposite charges ____ each other.",choices:["Attract, repel","Repel, attract","Attract, attract","Repel, repel"],answer:1,explain:"Fundamental rule of electrostatics: like charges repel, opposite charges attract."},
      {type:"mc",diff:"easy",q:"The SI unit of electrical resistance is the:",choices:["Volt","Ampere","Watt","Ohm"],answer:3,explain:"Resistance is measured in ohms, defined as volts per ampere."},
      {type:"mc",diff:"easy",q:"Electric current is the flow of:",choices:["Protons","Neutrons","Electrons","Photons"],answer:2,explain:"In most conductors, current is the flow of electrons through a material."},
      {type:"mc",diff:"easy",q:"What type of wave is light?",choices:["Mechanical","Longitudinal","Electromagnetic","Sound"],answer:2,explain:"Light is an electromagnetic wave that does not require a medium to travel."},
      {type:"mc",diff:"easy",q:"The speed of light in a vacuum is approximately:",choices:["3 x 10^6 m/s","3 x 10^8 m/s","3 x 10^10 m/s","3 x 10^12 m/s"],answer:1,explain:"The speed of light c is approximately 3 x 10^8 m/s (about 300,000 km/s)."},
      // MEDIUM MC
      {type:"mc",diff:"medium",q:"Ohm's Law states that V = :",choices:["IR","I/R","R/I","I^2R"],answer:0,explain:"Ohm's Law: V = IR, where V is voltage, I is current, and R is resistance."},
      {type:"mc",diff:"medium",q:"Two resistors in series have resistances of 4 ohms and 6 ohms. The total resistance is:",choices:["2.4 ohms","5 ohms","10 ohms","24 ohms"],answer:2,explain:"In series: R_total = R1 + R2 = 4 + 6 = 10 ohms."},
      {type:"mc",diff:"medium",q:"Two resistors in parallel (4 ohms and 6 ohms) have a total resistance of:",choices:["2.4 ohms","5 ohms","10 ohms","24 ohms"],answer:0,explain:"In parallel: 1/R = 1/4 + 1/6 = 5/12, so R = 12/5 = 2.4 ohms."},
      {type:"mc",diff:"medium",q:"The electric field points:",choices:["From negative to positive","From positive to negative","In circles around charges","Perpendicular to charges"],answer:1,explain:"Electric field lines point away from positive charges and toward negative charges."},
      {type:"mc",diff:"medium",q:"A changing magnetic field induces:",choices:["A static charge","An electric field","A gravitational field","A nuclear force"],answer:1,explain:"Faraday's law: a changing magnetic field induces an electric field (and thus an EMF)."},
      {type:"mc",diff:"medium",q:"The power dissipated in a resistor carrying current I with resistance R is:",choices:["P = IR","P = I^2R","P = I/R","P = R/I^2"],answer:1,explain:"Electrical power P = I^2R, or equivalently P = IV = V^2/R."},
      {type:"mc",diff:"medium",q:"What phenomenon causes a straw to appear bent in a glass of water?",choices:["Diffraction","Reflection","Refraction","Polarization"],answer:2,explain:"Refraction is the bending of light when it passes between media with different optical densities."},
      {type:"mc",diff:"medium",q:"In a transverse wave, particles move:",choices:["Parallel to wave direction","Perpendicular to wave direction","In circles","Not at all"],answer:1,explain:"In transverse waves, particle displacement is perpendicular to the direction of wave propagation."},
      // HARD MC
      {type:"mc",diff:"hard",q:"Coulomb's law states that the electrostatic force between two charges is proportional to:",choices:["q1*q2/r","q1*q2/r^2","q1+q2/r^2","(q1*q2)^2/r"],answer:1,explain:"F = k(q1*q2)/r^2. Force is proportional to the product of charges and inversely proportional to distance squared."},
      {type:"mc",diff:"hard",q:"A charged particle moving perpendicular to a uniform magnetic field follows a:",choices:["Straight line","Parabolic path","Circular path","Spiral path"],answer:2,explain:"The magnetic force is always perpendicular to velocity, providing centripetal force for circular motion."},
      {type:"mc",diff:"hard",q:"The energy stored in a capacitor with capacitance C charged to voltage V is:",choices:["CV","CV^2","(1/2)CV^2","(1/2)C^2V"],answer:2,explain:"Energy stored in a capacitor: U = (1/2)CV^2."},
      {type:"mc",diff:"hard",q:"According to Lenz's law, an induced current flows in a direction that:",choices:["Enhances the change in flux","Opposes the change in flux that caused it","Is always clockwise","Matches the external field"],answer:1,explain:"Lenz's law: the induced current creates a magnetic field opposing the change in flux, consistent with energy conservation."},
      {type:"mc",diff:"hard",q:"Total internal reflection occurs when light travels from:",choices:["A less dense to a more dense medium","A more dense to a less dense medium at an angle greater than the critical angle","Any medium to vacuum","Air to water at any angle"],answer:1,explain:"Total internal reflection requires light going from higher to lower index of refraction at an angle exceeding the critical angle."},
      // TRUE/FALSE
      {type:"tf",diff:"easy",q:"A battery provides direct current (DC).",answer:true,explain:"Batteries supply direct current, which flows in one direction."},
      {type:"tf",diff:"easy",q:"Magnets always have both a north and south pole.",answer:true,explain:"Magnetic monopoles have never been observed; all magnets are dipoles with both poles."},
      {type:"tf",diff:"medium",q:"Capacitors store energy in an electric field between their plates.",answer:true,explain:"A charged capacitor stores energy in the electric field created between its parallel plates."},
      {type:"tf",diff:"medium",q:"Electromagnetic waves require a medium to propagate.",answer:false,explain:"Unlike mechanical waves, electromagnetic waves can travel through a vacuum."},
      {type:"tf",diff:"medium",q:"Increasing the frequency of a wave increases its wavelength.",answer:false,explain:"For a given wave speed, v = f*lambda, so increasing frequency decreases wavelength."},
      {type:"tf",diff:"hard",q:"The magnetic force on a charged particle can change the particle's speed.",answer:false,explain:"The magnetic force is always perpendicular to velocity, so it changes direction but not speed (no work done)."},
      {type:"tf",diff:"hard",q:"Maxwell's equations unify electricity, magnetism, and optics.",answer:true,explain:"Maxwell showed that light is an electromagnetic wave, unifying these previously separate fields."},
      // FILL IN THE BLANK
      {type:"fill",diff:"easy",q:"Ohm's Law is written as V = I times ____.",answer:["r","R","resistance"],explain:"V = IR relates voltage, current, and resistance."},
      {type:"fill",diff:"easy",q:"The bending of light as it passes from one medium to another is called ____.",answer:["refraction"],explain:"Refraction is governed by Snell's law: n1*sin(theta1) = n2*sin(theta2)."},
      {type:"fill",diff:"medium",q:"The SI unit of magnetic field strength is the ____.",answer:["tesla","T"],explain:"The tesla (T) is the SI unit of magnetic flux density (field strength)."},
      {type:"fill",diff:"medium",q:"A device that stores electrical energy in an electric field is called a ____.",answer:["capacitor"],explain:"Capacitors consist of two conducting plates separated by an insulator (dielectric)."},
      {type:"fill",diff:"hard",q:"The law that relates induced EMF to the rate of change of magnetic flux is called ____'s law.",answer:["faraday","faradays"],explain:"Faraday's law: EMF = -d(flux)/dt. The negative sign reflects Lenz's law."},
      {type:"fill",diff:"hard",q:"The ratio of the speed of light in vacuum to its speed in a medium is called the index of ____.",answer:["refraction"],explain:"Index of refraction n = c/v, where c is the speed of light in vacuum and v is the speed in the medium."},
      // SHORT ANSWER
      {type:"short",diff:"medium",q:"Explain the difference between series and parallel circuits in terms of current and voltage.",answer:["In series circuits, current is the same through all components but voltage divides across them. In parallel circuits, voltage is the same across all branches but current divides among them."],keywords:["series","parallel","current","voltage","same","divide","branch","component","resistance"],explain:"Series: same current, voltage divides proportionally to resistance. Parallel: same voltage, current divides inversely proportional to resistance."},
      {type:"short",diff:"hard",q:"Describe Faraday's law of electromagnetic induction and explain one practical application.",answer:["Faraday's law states that a changing magnetic flux through a loop induces an EMF proportional to the rate of change of flux. This is the principle behind electric generators, which convert mechanical energy to electrical energy by rotating a coil in a magnetic field."],keywords:["faraday","magnetic flux","change","induce","emf","generator","coil","rotate","field","voltage","current","transformer"],explain:"A changing magnetic flux induces an EMF (Faraday's law). Applications include generators (rotating coils in magnetic fields), transformers (changing AC voltage), and induction cooktops."},
      {type:"short",diff:"hard",q:"Explain the concept of electric potential and how it differs from electric field.",answer:["Electric potential is the potential energy per unit charge at a point in space, measured in volts. The electric field is the force per unit charge and is a vector quantity. The field points in the direction of decreasing potential."],keywords:["potential","energy","charge","volt","field","force","vector","scalar","gradient","decreasing","point"],explain:"Potential (V) is a scalar measuring energy per charge (J/C = V). Electric field (E) is a vector measuring force per charge (N/C). E points from high to low potential: E = -dV/dx."},
    ]
  },
  "stats": {
    name: "Elements of Statistics",
    icon: "üìä",
    desc: "Descriptive and inferential statistics, probability, hypothesis testing, and data interpretation",
    questions: [
      // EASY MC
      {type:"mc",diff:"easy",q:"The mean of a data set is also known as the:",choices:["Median","Mode","Average","Range"],answer:2,explain:"The mean (average) is calculated by summing all values and dividing by the number of values."},
      {type:"mc",diff:"easy",q:"Which measure of center is most resistant to outliers?",choices:["Mean","Median","Standard deviation","Variance"],answer:1,explain:"The median is the middle value when data is ordered and is not pulled by extreme values like the mean."},
      {type:"mc",diff:"easy",q:"A bar chart is used to display:",choices:["Continuous data","Categorical data","Time series only","Correlation"],answer:1,explain:"Bar charts display the frequency or count of categorical (qualitative) variables."},
      {type:"mc",diff:"easy",q:"The probability of any event ranges from:",choices:["-1 to 1","0 to 1","0 to 100","1 to 10"],answer:1,explain:"Probability values must be between 0 (impossible) and 1 (certain), inclusive."},
      {type:"mc",diff:"easy",q:"A data set has values: 3, 5, 5, 7, 10. What is the mode?",choices:["3","5","7","10"],answer:1,explain:"The mode is the most frequently occurring value. Here, 5 appears twice."},
      {type:"mc",diff:"easy",q:"Which type of graph shows the distribution of a continuous variable?",choices:["Pie chart","Histogram","Bar chart","Scatter plot"],answer:1,explain:"Histograms display the frequency distribution of continuous (quantitative) data using bins."},
      {type:"mc",diff:"easy",q:"The range of a data set is calculated by:",choices:["Mean minus median","Maximum minus minimum","Sum divided by count","Square root of variance"],answer:1,explain:"Range = maximum value - minimum value. It measures the spread of the data."},
      // MEDIUM MC
      {type:"mc",diff:"medium",q:"In a normal distribution, approximately what percentage of data falls within one standard deviation of the mean?",choices:["50%","68%","95%","99.7%"],answer:1,explain:"The empirical rule: about 68% of data falls within one standard deviation of the mean in a normal distribution."},
      {type:"mc",diff:"medium",q:"A p-value of 0.03 with a significance level of 0.05 means:",choices:["Fail to reject the null hypothesis","Reject the null hypothesis","The test is inconclusive","Accept the alternative hypothesis with certainty"],answer:1,explain:"Since p-value (0.03) < alpha (0.05), we reject the null hypothesis."},
      {type:"mc",diff:"medium",q:"Which of the following describes a Type I error?",choices:["Failing to reject a false null hypothesis","Rejecting a true null hypothesis","Accepting a true null hypothesis","Failing to reject a true null hypothesis"],answer:1,explain:"Type I error (false positive) occurs when we incorrectly reject a null hypothesis that is actually true."},
      {type:"mc",diff:"medium",q:"The standard deviation measures:",choices:["The center of the data","The spread of data around the mean","The skewness of data","The probability of an event"],answer:1,explain:"Standard deviation quantifies how much individual data points deviate from the mean on average."},
      {type:"mc",diff:"medium",q:"A correlation coefficient of r = -0.92 indicates:",choices:["A weak positive relationship","A strong positive relationship","A weak negative relationship","A strong negative relationship"],answer:3,explain:"r close to -1 indicates a strong negative (inverse) linear relationship between variables."},
      {type:"mc",diff:"medium",q:"In a hypothesis test, the null hypothesis typically states that:",choices:["There is a significant effect","The sample is biased","There is no effect or no difference","The alternative is true"],answer:2,explain:"The null hypothesis (H0) states no effect, no difference, or no relationship as the default assumption."},
      {type:"mc",diff:"medium",q:"If you increase the sample size, the standard error will:",choices:["Increase","Decrease","Stay the same","Become zero"],answer:1,explain:"Standard error = s/sqrt(n). As n increases, SE decreases, giving more precise estimates."},
      {type:"mc",diff:"medium",q:"A 95% confidence interval means:",choices:["95% of the data falls in the interval","We are 95% sure the sample mean is correct","95% of similarly constructed intervals would contain the true parameter","There is a 95% chance the true mean is in this specific interval"],answer:2,explain:"The confidence level refers to the long-run proportion of intervals that capture the true parameter."},
      // HARD MC
      {type:"mc",diff:"hard",q:"Which test would you use to compare means of three or more groups?",choices:["t-test","Chi-square test","ANOVA","Z-test"],answer:2,explain:"ANOVA (Analysis of Variance) compares means across three or more groups simultaneously."},
      {type:"mc",diff:"hard",q:"The Central Limit Theorem states that as sample size increases, the sampling distribution of the sample mean:",choices:["Becomes uniform","Approaches a normal distribution","Becomes skewed","Matches the population exactly"],answer:1,explain:"The CLT states the sampling distribution of the mean approaches normality as n increases, regardless of population shape."},
      {type:"mc",diff:"hard",q:"A chi-square test of independence is used to:",choices:["Compare two means","Test if two categorical variables are related","Measure correlation between continuous variables","Compare proportions to a known standard"],answer:1,explain:"The chi-square test of independence determines whether there is a significant association between two categorical variables."},
      {type:"mc",diff:"hard",q:"In linear regression, the coefficient of determination (R^2) represents:",choices:["The slope of the line","The y-intercept","The proportion of variance in Y explained by X","The correlation between X and Y"],answer:2,explain:"R^2 indicates the fraction of variability in the response variable explained by the linear model."},
      // TRUE/FALSE
      {type:"tf",diff:"easy",q:"The median is always equal to the mean in any data set.",answer:false,explain:"Mean and median are equal only in perfectly symmetric distributions. Skewed data causes them to differ."},
      {type:"tf",diff:"easy",q:"A larger sample size generally produces more reliable results.",answer:true,explain:"Larger samples reduce sampling error and produce more precise estimates of population parameters."},
      {type:"tf",diff:"medium",q:"Correlation implies causation.",answer:false,explain:"Correlation shows a relationship between variables but does not prove one causes the other. Confounding variables may be involved."},
      {type:"tf",diff:"medium",q:"The sum of all probabilities in a sample space equals 1.",answer:true,explain:"By the axioms of probability, all possible outcomes must sum to exactly 1."},
      {type:"tf",diff:"medium",q:"A two-tailed test is more conservative than a one-tailed test.",answer:true,explain:"Two-tailed tests split alpha across both tails, requiring a larger effect to reject H0 compared to one-tailed tests."},
      {type:"tf",diff:"hard",q:"The standard deviation can be negative.",answer:false,explain:"Standard deviation is the square root of variance and is always zero or positive."},
      {type:"tf",diff:"hard",q:"Increasing the confidence level from 90% to 99% makes the confidence interval narrower.",answer:false,explain:"Higher confidence requires a wider interval to increase the probability of capturing the true parameter."},
      // FILL IN THE BLANK
      {type:"fill",diff:"easy",q:"The most frequently occurring value in a data set is called the ____.",answer:["mode"],explain:"The mode is the value that appears most often in a data set."},
      {type:"fill",diff:"easy",q:"A graph that shows the relationship between two quantitative variables is called a ____ plot.",answer:["scatter"],explain:"Scatter plots display paired data points to visualize relationships between two variables."},
      {type:"fill",diff:"medium",q:"The bell-shaped curve that describes many natural phenomena is called the ____ distribution.",answer:["normal","gaussian"],explain:"The normal (Gaussian) distribution is symmetric and bell-shaped, centered at the mean."},
      {type:"fill",diff:"medium",q:"In hypothesis testing, the probability of observing results as extreme as the data, assuming H0 is true, is the ____.",answer:["p-value","p value"],explain:"The p-value quantifies the strength of evidence against the null hypothesis."},
      {type:"fill",diff:"hard",q:"The statistical test used to compare an observed frequency distribution to an expected one is the ____-square test.",answer:["chi"],explain:"The chi-square goodness-of-fit test compares observed vs. expected frequencies."},
      {type:"fill",diff:"hard",q:"The ____ limit theorem states that sampling distributions approach normality with large samples.",answer:["central"],explain:"The Central Limit Theorem is foundational to inferential statistics."},
      // SHORT ANSWER
      {type:"short",diff:"medium",q:"Explain the difference between a population and a sample, and why samples are used in statistics.",answer:["A population includes all members of a defined group. A sample is a subset selected from the population. We use samples because studying entire populations is often impractical, too expensive, or impossible."],keywords:["population","sample","subset","all","practical","cost","infer","generalize","represent","entire","group"],explain:"Populations are the complete set of interest; samples are manageable subsets. Statistics from samples are used to estimate population parameters."},
      {type:"short",diff:"hard",q:"Explain what a confidence interval is and how sample size affects its width.",answer:["A confidence interval is a range of values estimated to contain the true population parameter with a specified level of confidence. Increasing sample size decreases the standard error, producing a narrower interval and a more precise estimate."],keywords:["range","parameter","confidence","level","sample size","narrow","wider","standard error","precision","estimate","population"],explain:"Confidence intervals provide a range for the true parameter. Larger samples reduce standard error (SE = s/sqrt(n)), producing narrower, more precise intervals."},
    ]
  },
  "trig": {
    name: "Trigonometry",
    icon: "üìê",
    desc: "Trigonometric functions, identities, triangles, vectors, polar coordinates, and parametric equations",
    questions: [
      // EASY MC
      {type:"mc",diff:"easy",q:"In a right triangle, the sine of an angle equals:",choices:["Adjacent / Hypotenuse","Opposite / Hypotenuse","Opposite / Adjacent","Hypotenuse / Opposite"],answer:1,explain:"SOH-CAH-TOA: Sine = Opposite / Hypotenuse."},
      {type:"mc",diff:"easy",q:"What is sin(90 degrees)?",choices:["0","1/2","sqrt(2)/2","1"],answer:3,explain:"sin(90) = 1. At 90 degrees, the opposite side equals the hypotenuse."},
      {type:"mc",diff:"easy",q:"How many degrees are in a full circle?",choices:["90","180","270","360"],answer:3,explain:"A full rotation is 360 degrees or 2pi radians."},
      {type:"mc",diff:"easy",q:"What is cos(0)?",choices:["0","1","-1","Undefined"],answer:1,explain:"cos(0) = 1. At 0 degrees, the adjacent side equals the hypotenuse."},
      {type:"mc",diff:"easy",q:"Convert 180 degrees to radians:",choices:["pi/2","pi","2pi","pi/4"],answer:1,explain:"180 degrees = pi radians. The conversion factor is pi/180."},
      {type:"mc",diff:"easy",q:"The tangent of an angle is defined as:",choices:["sin/cos","cos/sin","1/sin","1/cos"],answer:0,explain:"tan(theta) = sin(theta)/cos(theta) = opposite/adjacent."},
      {type:"mc",diff:"easy",q:"What is tan(45 degrees)?",choices:["0","1","sqrt(2)","Undefined"],answer:1,explain:"tan(45) = sin(45)/cos(45) = (sqrt(2)/2)/(sqrt(2)/2) = 1."},
      // MEDIUM MC
      {type:"mc",diff:"medium",q:"Which trigonometric identity is correct?",choices:["sin^2(x) + cos^2(x) = 0","sin^2(x) + cos^2(x) = 1","sin^2(x) - cos^2(x) = 1","sin(x) + cos(x) = 1"],answer:1,explain:"The Pythagorean identity: sin^2(x) + cos^2(x) = 1 for all values of x."},
      {type:"mc",diff:"medium",q:"The period of the function y = sin(2x) is:",choices:["pi/2","pi","2pi","4pi"],answer:1,explain:"Period = 2pi/B where B is the coefficient of x. Period = 2pi/2 = pi."},
      {type:"mc",diff:"medium",q:"In which quadrant are both sine and cosine negative?",choices:["Quadrant I","Quadrant II","Quadrant III","Quadrant IV"],answer:2,explain:"In Quadrant III (180-270 degrees), both x and y coordinates are negative, so both sin and cos are negative."},
      {type:"mc",diff:"medium",q:"The Law of Sines states that a/sin(A) = :",choices:["b/sin(B)","b/cos(B)","c/tan(C)","b*sin(B)"],answer:0,explain:"Law of Sines: a/sin(A) = b/sin(B) = c/sin(C) for any triangle."},
      {type:"mc",diff:"medium",q:"What is the reference angle for 225 degrees?",choices:["25 degrees","45 degrees","55 degrees","135 degrees"],answer:1,explain:"225 - 180 = 45 degrees. The reference angle is the acute angle to the x-axis."},
      {type:"mc",diff:"medium",q:"The amplitude of y = 3sin(x) is:",choices:["1","3","6","pi"],answer:1,explain:"Amplitude is the absolute value of the coefficient in front of the trig function. |3| = 3."},
      {type:"mc",diff:"medium",q:"The inverse function sin^(-1)(x) returns:",choices:["1/sin(x)","The angle whose sine is x","sin(1/x)","The reciprocal of sine"],answer:1,explain:"sin^(-1)(x) or arcsin(x) gives the angle whose sine value is x."},
      {type:"mc",diff:"medium",q:"The cosecant function is the reciprocal of:",choices:["Cosine","Tangent","Sine","Cotangent"],answer:2,explain:"csc(x) = 1/sin(x). The reciprocal identities pair sin/csc, cos/sec, and tan/cot."},
      // HARD MC
      {type:"mc",diff:"hard",q:"Using the double angle formula, sin(2x) = :",choices:["2sin(x)","sin(x)cos(x)","2sin(x)cos(x)","sin^2(x) - cos^2(x)"],answer:2,explain:"The double angle formula: sin(2x) = 2sin(x)cos(x)."},
      {type:"mc",diff:"hard",q:"The Law of Cosines states c^2 = :",choices:["a^2 + b^2","a^2 + b^2 - 2ab*cos(C)","a^2 + b^2 + 2ab*cos(C)","a^2 - b^2 + 2ab*cos(C)"],answer:1,explain:"c^2 = a^2 + b^2 - 2ab*cos(C). This generalizes the Pythagorean theorem for any triangle."},
      {type:"mc",diff:"hard",q:"Convert the polar coordinates (4, pi/3) to rectangular coordinates:",choices:["(2, 2sqrt(3))","(2sqrt(3), 2)","(4, pi/3)","(2, 2)"],answer:0,explain:"x = r*cos(theta) = 4*cos(pi/3) = 4(1/2) = 2. y = r*sin(theta) = 4*sin(pi/3) = 4(sqrt(3)/2) = 2sqrt(3)."},
      {type:"mc",diff:"hard",q:"If tan(x) = 3/4 and x is in Quadrant I, what is sin(x)?",choices:["3/4","4/5","3/5","5/3"],answer:2,explain:"If opposite = 3, adjacent = 4, then hypotenuse = 5. sin(x) = 3/5."},
      {type:"mc",diff:"hard",q:"The parametric equations x = 3cos(t) and y = 3sin(t) describe a:",choices:["Line","Parabola","Circle of radius 3","Ellipse"],answer:2,explain:"x^2 + y^2 = 9cos^2(t) + 9sin^2(t) = 9. This is a circle with radius 3."},
      // TRUE/FALSE
      {type:"tf",diff:"easy",q:"One radian is approximately 57.3 degrees.",answer:true,explain:"1 radian = 180/pi degrees, which is approximately 57.3 degrees."},
      {type:"tf",diff:"easy",q:"The sine function has a range of all real numbers.",answer:false,explain:"The range of sine is [-1, 1]. It oscillates between -1 and 1."},
      {type:"tf",diff:"medium",q:"The graph of y = cos(x) is the graph of y = sin(x) shifted left by pi/2.",answer:true,explain:"cos(x) = sin(x + pi/2). Cosine leads sine by pi/2 radians (90 degrees)."},
      {type:"tf",diff:"medium",q:"The tangent function has vertical asymptotes at every multiple of pi.",answer:false,explain:"Tangent has asymptotes at odd multiples of pi/2 (i.e., pi/2, 3pi/2, etc.), not at multiples of pi."},
      {type:"tf",diff:"hard",q:"The Law of Cosines reduces to the Pythagorean theorem when angle C = 90 degrees.",answer:true,explain:"When C = 90, cos(90) = 0, so c^2 = a^2 + b^2 - 0 = a^2 + b^2."},
      {type:"tf",diff:"hard",q:"Polar coordinates (r, theta) and (-r, theta + pi) represent the same point.",answer:true,explain:"Negating r and adding pi to theta reflects through the origin, returning to the same point."},
      // FILL IN THE BLANK
      {type:"fill",diff:"easy",q:"SOH-CAH-TOA helps remember the basic ____ ratios.",answer:["trigonometric","trig"],explain:"SOH-CAH-TOA is a mnemonic for Sine=Opp/Hyp, Cosine=Adj/Hyp, Tangent=Opp/Adj."},
      {type:"fill",diff:"easy",q:"There are 2____ radians in a full circle.",answer:["pi"],explain:"A full circle = 360 degrees = 2pi radians."},
      {type:"fill",diff:"medium",q:"The Pythagorean identity states that sin^2(x) + cos^2(x) = ____.",answer:["1","one"],explain:"This fundamental identity holds for all values of x."},
      {type:"fill",diff:"medium",q:"The reciprocal of the cosine function is called ____.",answer:["secant","sec"],explain:"sec(x) = 1/cos(x). Secant is the reciprocal of cosine."},
      {type:"fill",diff:"hard",q:"The formula for the area of a triangle using two sides and the included angle is A = (1/2)ab*____(C).",answer:["sin"],explain:"Area = (1/2)ab*sin(C) uses the sine of the included angle between sides a and b."},
      {type:"fill",diff:"hard",q:"To convert from degrees to radians, multiply by pi/____.",answer:["180"],explain:"Radians = degrees x (pi/180). This is the standard conversion factor."},
      // SHORT ANSWER
      {type:"short",diff:"medium",q:"Explain when you would use the Law of Sines versus the Law of Cosines to solve a triangle.",answer:["Use the Law of Sines when you know an angle and its opposite side (AAS, ASA, or SSA cases). Use the Law of Cosines when you know two sides and the included angle (SAS) or all three sides (SSS)."],keywords:["law of sines","law of cosines","angle","side","opposite","included","SAS","SSS","AAS","ASA","SSA","two sides"],explain:"Law of Sines requires a known angle-side pair. Law of Cosines works when you have SAS or SSS, where no angle-side pair is directly available."},
      {type:"short",diff:"hard",q:"Describe the relationship between rectangular and polar coordinate systems, and explain how to convert between them.",answer:["Rectangular uses (x, y) with perpendicular axes. Polar uses (r, theta) with distance from origin and angle. Convert using x = r*cos(theta), y = r*sin(theta), r = sqrt(x^2 + y^2), theta = arctan(y/x)."],keywords:["rectangular","polar","x","y","r","theta","cos","sin","arctan","convert","distance","angle","origin","sqrt"],explain:"Rectangular (x,y) and polar (r,theta) are two ways to locate points. x = rcos(theta), y = rsin(theta) for polar to rectangular. r = sqrt(x^2+y^2), theta = arctan(y/x) for rectangular to polar."},
    ]
  },
  "psych": {
    name: "General Psychology",
    icon: "üß†",
    desc: "Scientific study of behavior and mental processes, historical and current perspectives",
    questions: [
      {type:"mc",diff:"easy",q:"Which school of psychology focused on the function of mental processes?",choices:["Structuralism","Functionalism","Behaviorism","Psychoanalysis"],answer:1,explain:"Functionalism, influenced by William James, studied how mental processes help organisms adapt to their environment."},
      {type:"mc",diff:"easy",q:"The nature vs. nurture debate concerns:",choices:["Conscious vs. unconscious mind","Biology/genetics vs. environment/experience","Perception vs. reality","Emotion vs. logic"],answer:1,explain:"Nature refers to biological/genetic influences; nurture refers to environmental and experiential influences on behavior."},
      {type:"mc",diff:"easy",q:"Classical conditioning was first described by:",choices:["Skinner","Freud","Pavlov","Maslow"],answer:2,explain:"Ivan Pavlov discovered classical conditioning through his experiments with dogs and salivation."},
      {type:"mc",diff:"easy",q:"Which lobe of the brain is primarily responsible for vision?",choices:["Frontal","Parietal","Temporal","Occipital"],answer:3,explain:"The occipital lobe at the back of the brain contains the primary visual cortex."},
      {type:"mc",diff:"easy",q:"Short-term memory can typically hold about ____ items:",choices:["3","7 plus or minus 2","15","Unlimited"],answer:1,explain:"George Miller's research found short-term memory holds approximately 7 (plus or minus 2) chunks of information."},
      {type:"mc",diff:"easy",q:"Maslow's hierarchy places which need at the base?",choices:["Self-actualization","Love and belonging","Safety","Physiological needs"],answer:3,explain:"Physiological needs (food, water, shelter) form the base of Maslow's hierarchy as the most fundamental."},
      {type:"mc",diff:"medium",q:"In operant conditioning, a positive reinforcer:",choices:["Removes an unpleasant stimulus","Adds a pleasant stimulus to increase behavior","Punishes unwanted behavior","Decreases the likelihood of behavior"],answer:1,explain:"Positive reinforcement adds a desirable stimulus following a behavior to increase its frequency."},
      {type:"mc",diff:"medium",q:"The neurotransmitter most associated with the brain's reward system is:",choices:["Serotonin","GABA","Dopamine","Acetylcholine"],answer:2,explain:"Dopamine plays a key role in reward, motivation, and pleasure pathways in the brain."},
      {type:"mc",diff:"medium",q:"Erikson's psychosocial stage for adolescents involves:",choices:["Trust vs. mistrust","Initiative vs. guilt","Identity vs. role confusion","Integrity vs. despair"],answer:2,explain:"Adolescents navigate identity vs. role confusion as they develop a sense of self."},
      {type:"mc",diff:"medium",q:"Which part of the neuron receives signals from other neurons?",choices:["Axon","Myelin sheath","Dendrite","Terminal button"],answer:2,explain:"Dendrites are branching extensions that receive incoming signals from other neurons."},
      {type:"mc",diff:"medium",q:"The fight-or-flight response is controlled by the:",choices:["Parasympathetic nervous system","Sympathetic nervous system","Somatic nervous system","Central nervous system"],answer:1,explain:"The sympathetic nervous system activates the body's fight-or-flight response during perceived threats."},
      {type:"mc",diff:"medium",q:"Confirmation bias refers to the tendency to:",choices:["Seek information that supports existing beliefs","Change opinions frequently","Ignore all evidence","Rely only on authority figures"],answer:0,explain:"Confirmation bias leads people to favor information that confirms their preexisting beliefs."},
      {type:"mc",diff:"hard",q:"Which brain structure is most critical for forming new explicit memories?",choices:["Amygdala","Cerebellum","Hippocampus","Hypothalamus"],answer:2,explain:"The hippocampus is essential for consolidating new declarative (explicit) memories."},
      {type:"mc",diff:"hard",q:"In Piaget's theory, the stage where children develop abstract reasoning is:",choices:["Sensorimotor","Preoperational","Concrete operational","Formal operational"],answer:3,explain:"The formal operational stage (12+) enables hypothetical and abstract thinking."},
      {type:"mc",diff:"hard",q:"The Stanford prison experiment demonstrated the power of:",choices:["Classical conditioning","Situational forces on behavior","Genetic determinism","Cognitive dissonance"],answer:1,explain:"Zimbardo's study showed how assigned roles and situational context profoundly influence behavior."},
      {type:"mc",diff:"hard",q:"Broca's area is primarily associated with:",choices:["Language comprehension","Speech production","Visual processing","Memory storage"],answer:1,explain:"Damage to Broca's area (left frontal lobe) impairs speech production while comprehension remains relatively intact."},
      {type:"tf",diff:"easy",q:"Psychology is defined as the scientific study of behavior and mental processes.",answer:true,explain:"This is the standard definition of psychology as a scientific discipline."},
      {type:"tf",diff:"easy",q:"Sigmund Freud founded the behaviorist school of psychology.",answer:false,explain:"Freud founded psychoanalysis. Behaviorism was founded by John B. Watson."},
      {type:"tf",diff:"medium",q:"The cerebellum is primarily involved in emotion and memory.",answer:false,explain:"The cerebellum coordinates movement, balance, and motor learning. The amygdala handles emotion."},
      {type:"tf",diff:"medium",q:"Observational learning can occur without direct reinforcement.",answer:true,explain:"Bandura's social learning theory showed people learn by watching others without needing direct reinforcement."},
      {type:"tf",diff:"hard",q:"Schizophrenia is the same as dissociative identity disorder.",answer:false,explain:"These are distinct disorders. Schizophrenia involves psychosis; dissociative identity disorder involves multiple personality states."},
      {type:"tf",diff:"hard",q:"Neuroplasticity allows the brain to reorganize and form new neural connections throughout life.",answer:true,explain:"The brain retains plasticity across the lifespan, enabling adaptation, learning, and recovery from injury."},
      {type:"fill",diff:"easy",q:"The gap between two neurons where neurotransmitters are released is called the ____.",answer:["synapse","synaptic cleft"],explain:"Neurotransmitters cross the synaptic cleft to transmit signals between neurons."},
      {type:"fill",diff:"medium",q:"Freud's model of personality includes the id, ego, and ____.",answer:["superego","super ego","super-ego"],explain:"The superego represents internalized moral standards and ideals."},
      {type:"fill",diff:"medium",q:"The process of getting information into memory is called ____.",answer:["encoding"],explain:"Encoding is the first stage of memory: converting information into a storable form."},
      {type:"fill",diff:"hard",q:"The tendency to attribute others' behavior to internal causes while attributing our own to external causes is the fundamental ____ error.",answer:["attribution"],explain:"The fundamental attribution error is overemphasizing personality and underestimating situational factors for others' behavior."},
      {type:"short",diff:"medium",q:"Explain the difference between classical and operant conditioning.",answer:["Classical conditioning pairs a neutral stimulus with an unconditioned stimulus to produce a conditioned response. Operant conditioning uses reinforcement or punishment to increase or decrease voluntary behaviors."],keywords:["classical","operant","stimulus","response","reinforcement","punishment","voluntary","involuntary","pavlov","skinner","pair","consequence"],explain:"Classical conditioning is learning through association (involuntary responses). Operant conditioning is learning through consequences (voluntary behaviors)."},
      {type:"short",diff:"hard",q:"Describe the structure of a neuron and how a nerve impulse travels from one neuron to another.",answer:["A neuron has dendrites that receive signals, a cell body, and an axon that transmits signals. An electrical impulse travels down the axon, triggering release of neurotransmitters at the terminal buttons into the synaptic cleft, where they bind to receptors on the next neuron."],keywords:["dendrite","cell body","axon","neurotransmitter","synapse","receptor","impulse","action potential","terminal","cleft","signal","electrical"],explain:"Signals travel: dendrites receive, cell body integrates, axon conducts the action potential, terminal buttons release neurotransmitters across the synapse to the next neuron's dendrites."},
    ]
  },
  "biochem": {
    name: "Biochemistry I",
    icon: "üß´",
    desc: "Proteins, carbohydrates, nucleic acids, enzyme kinetics, and biomolecular structure",
    questions: [
      {type:"mc",diff:"easy",q:"Amino acids are the building blocks of:",choices:["Lipids","Carbohydrates","Proteins","Nucleic acids"],answer:2,explain:"Proteins are polymers of amino acids linked by peptide bonds."},
      {type:"mc",diff:"easy",q:"How many standard amino acids are encoded by the genetic code?",choices:["4","10","20","64"],answer:2,explain:"There are 20 standard amino acids specified by the genetic code."},
      {type:"mc",diff:"easy",q:"Which bond connects amino acids in a polypeptide chain?",choices:["Hydrogen bond","Ionic bond","Peptide bond","Disulfide bond"],answer:2,explain:"Peptide bonds form via condensation between the carboxyl group of one amino acid and the amino group of another."},
      {type:"mc",diff:"easy",q:"DNA is composed of which type of sugar?",choices:["Ribose","Deoxyribose","Glucose","Fructose"],answer:1,explain:"DNA contains deoxyribose sugar, while RNA contains ribose."},
      {type:"mc",diff:"easy",q:"Which level of protein structure describes the amino acid sequence?",choices:["Primary","Secondary","Tertiary","Quaternary"],answer:0,explain:"Primary structure is the linear sequence of amino acids in a polypeptide chain."},
      {type:"mc",diff:"medium",q:"Alpha helices and beta sheets represent which level of protein structure?",choices:["Primary","Secondary","Tertiary","Quaternary"],answer:1,explain:"Secondary structure refers to local folding patterns stabilized by hydrogen bonds between backbone atoms."},
      {type:"mc",diff:"medium",q:"In enzyme kinetics, Km represents:",choices:["Maximum velocity","Substrate concentration at half Vmax","The inhibitor constant","Turnover number"],answer:1,explain:"The Michaelis constant (Km) is the substrate concentration at which reaction velocity is half of Vmax."},
      {type:"mc",diff:"medium",q:"A competitive inhibitor of an enzyme:",choices:["Binds to the active site","Binds to an allosteric site","Decreases Vmax","Is irreversible"],answer:0,explain:"Competitive inhibitors compete with substrate for the active site, increasing apparent Km but not affecting Vmax."},
      {type:"mc",diff:"medium",q:"Which of the following is a reducing sugar?",choices:["Sucrose","Glucose","Starch","Cellulose"],answer:1,explain:"Glucose has a free anomeric carbon that can reduce other compounds, making it a reducing sugar."},
      {type:"mc",diff:"medium",q:"Chaperone proteins assist in:",choices:["DNA replication","Protein folding","Lipid transport","mRNA splicing"],answer:1,explain:"Molecular chaperones help proteins fold correctly and prevent aggregation of misfolded proteins."},
      {type:"mc",diff:"medium",q:"The Lineweaver-Burk plot is a double reciprocal plot of:",choices:["[S] vs. V","1/[S] vs. 1/V","V vs. Vmax","Km vs. Kcat"],answer:1,explain:"The Lineweaver-Burk plot graphs 1/V vs. 1/[S] to linearize the Michaelis-Menten equation."},
      {type:"mc",diff:"hard",q:"Allosteric enzymes typically display what type of kinetics curve?",choices:["Hyperbolic","Sigmoidal","Linear","Exponential"],answer:1,explain:"Allosteric enzymes show sigmoidal (S-shaped) kinetics due to cooperative binding of substrate."},
      {type:"mc",diff:"hard",q:"In a Ramachandran plot, the axes represent:",choices:["pH and temperature","Phi and psi backbone dihedral angles","Substrate and product concentrations","Km and Vmax"],answer:1,explain:"The Ramachandran plot shows allowed combinations of phi and psi torsion angles for amino acid residues."},
      {type:"mc",diff:"hard",q:"The Henderson-Hasselbalch equation applied to amino acids helps determine:",choices:["Molecular weight","Charge state at a given pH","Enzyme velocity","Protein folding"],answer:1,explain:"pH = pKa + log([A-]/[HA]) predicts the ionization state and charge of amino acid side chains at any pH."},
      {type:"mc",diff:"hard",q:"Hemoglobin exhibits cooperativity, meaning:",choices:["Each subunit functions independently","Binding of one O2 increases affinity for additional O2","It only binds CO2","It has no quaternary structure"],answer:1,explain:"Cooperative binding means O2 binding to one subunit increases the oxygen affinity of remaining subunits."},
      {type:"tf",diff:"easy",q:"Enzymes increase the activation energy of reactions.",answer:false,explain:"Enzymes lower the activation energy, increasing reaction rate without changing equilibrium."},
      {type:"tf",diff:"medium",q:"Disulfide bonds can form between two cysteine residues.",answer:true,explain:"The thiol groups of two cysteines can oxidize to form a covalent disulfide bond stabilizing protein structure."},
      {type:"tf",diff:"medium",q:"Glycogen is a branched polysaccharide used for energy storage in animals.",answer:true,explain:"Glycogen is a highly branched polymer of glucose stored primarily in liver and muscle."},
      {type:"tf",diff:"hard",q:"Uncompetitive inhibitors bind only to the enzyme-substrate complex.",answer:true,explain:"Uncompetitive inhibitors bind the ES complex, decreasing both apparent Km and Vmax."},
      {type:"tf",diff:"hard",q:"At the isoelectric point, an amino acid has a net charge of zero.",answer:true,explain:"The isoelectric point (pI) is the pH where the amino acid is a zwitterion with no net charge."},
      {type:"fill",diff:"easy",q:"The region of an enzyme where the substrate binds is called the ____ site.",answer:["active"],explain:"The active site is the specific region where substrate binds and catalysis occurs."},
      {type:"fill",diff:"medium",q:"The Michaelis-Menten equation relates reaction ____ to substrate concentration.",answer:["velocity","rate","speed"],explain:"V = Vmax[S]/(Km + [S]) describes the relationship between reaction velocity and [S]."},
      {type:"fill",diff:"hard",q:"The oxygen-binding curve of hemoglobin is ____ shaped due to cooperativity.",answer:["sigmoidal","sigmoid","s"],explain:"Cooperative O2 binding produces a sigmoidal curve, unlike myoglobin's hyperbolic curve."},
      {type:"short",diff:"medium",q:"Explain the difference between competitive and noncompetitive enzyme inhibition.",answer:["Competitive inhibitors bind the active site and compete with substrate, increasing apparent Km but not Vmax. Noncompetitive inhibitors bind elsewhere, decreasing Vmax without changing Km."],keywords:["competitive","noncompetitive","active site","allosteric","km","vmax","substrate","compete","bind","decrease"],explain:"Competitive: binds active site, overcome by high [S], Km increases, Vmax unchanged. Noncompetitive: binds allosteric site, cannot be overcome, Vmax decreases, Km unchanged."},
      {type:"short",diff:"hard",q:"Describe the four levels of protein structure and the forces that stabilize each.",answer:["Primary: amino acid sequence held by peptide bonds. Secondary: alpha helices and beta sheets stabilized by backbone hydrogen bonds. Tertiary: 3D folding from hydrophobic interactions, disulfide bonds, ionic bonds, and hydrogen bonds. Quaternary: multiple subunits held by noncovalent interactions."],keywords:["primary","secondary","tertiary","quaternary","peptide","hydrogen bond","hydrophobic","disulfide","ionic","subunit","helix","sheet","sequence","folding"],explain:"Each level builds on the previous: covalent sequence, local H-bond patterns, overall 3D folding via multiple forces, and multi-subunit assembly."},
    ]
  },
  "micro": {
    name: "Microbiology",
    icon: "ü¶†",
    desc: "Microbial morphology, physiology, taxonomy, and environmental relationships",
    questions: [
      {type:"mc",diff:"easy",q:"Which of the following is a prokaryote?",choices:["Yeast","Amoeba","E. coli","Mushroom"],answer:2,explain:"E. coli is a bacterium, which is prokaryotic (no membrane-bound nucleus)."},
      {type:"mc",diff:"easy",q:"Gram-positive bacteria stain which color?",choices:["Red/pink","Purple/violet","Green","Yellow"],answer:1,explain:"Gram-positive bacteria retain the crystal violet stain due to their thick peptidoglycan layer."},
      {type:"mc",diff:"easy",q:"Which structure allows bacteria to move?",choices:["Pilus","Capsule","Flagellum","Plasmid"],answer:2,explain:"Flagella are whip-like appendages that propel bacteria through liquid environments."},
      {type:"mc",diff:"easy",q:"Bacteria reproduce primarily by:",choices:["Mitosis","Meiosis","Binary fission","Budding"],answer:2,explain:"Binary fission is asexual reproduction where a bacterium divides into two identical daughter cells."},
      {type:"mc",diff:"medium",q:"Endospores are formed by some bacteria to:",choices:["Reproduce","Exchange DNA","Survive harsh conditions","Increase virulence"],answer:2,explain:"Endospores are dormant, highly resistant structures that help bacteria survive extreme conditions."},
      {type:"mc",diff:"medium",q:"Which of the following is NOT a method of horizontal gene transfer in bacteria?",choices:["Transformation","Transduction","Conjugation","Binary fission"],answer:3,explain:"Binary fission is vertical gene transfer (parent to offspring). Transformation, transduction, and conjugation are horizontal transfer."},
      {type:"mc",diff:"medium",q:"Obligate anaerobes are organisms that:",choices:["Require oxygen","Can grow with or without oxygen","Are killed by oxygen","Prefer low oxygen"],answer:2,explain:"Obligate anaerobes lack enzymes to detoxify reactive oxygen species and cannot survive in O2."},
      {type:"mc",diff:"medium",q:"Bacteriophages are viruses that infect:",choices:["Plants","Animals","Bacteria","Fungi"],answer:2,explain:"Bacteriophages (phages) specifically infect and replicate within bacteria."},
      {type:"mc",diff:"medium",q:"The minimum inhibitory concentration (MIC) measures:",choices:["How fast bacteria grow","The lowest antibiotic concentration that prevents visible growth","The maximum growth rate","Nutrient requirements"],answer:1,explain:"MIC is the lowest concentration of an antimicrobial that inhibits visible bacterial growth."},
      {type:"mc",diff:"hard",q:"Koch's postulates are used to:",choices:["Classify bacteria by shape","Establish a causal link between a microbe and a disease","Determine antibiotic sensitivity","Sequence microbial genomes"],answer:1,explain:"Koch's postulates provide criteria for establishing that a specific organism causes a specific disease."},
      {type:"mc",diff:"hard",q:"In the lytic cycle of a bacteriophage, the final step is:",choices:["Integration into host DNA","Lysogeny","Lysis of the host cell and release of new phages","Reverse transcription"],answer:2,explain:"The lytic cycle ends with host cell lysis, releasing new bacteriophage particles."},
      {type:"mc",diff:"hard",q:"Biofilms are significant in microbiology because they:",choices:["Only form in laboratories","Increase antibiotic susceptibility","Provide protection and increased resistance to antimicrobials","Are composed of a single species"],answer:2,explain:"Biofilms are communities of microorganisms in a protective matrix that are highly resistant to antibiotics and host defenses."},
      {type:"tf",diff:"easy",q:"All bacteria are harmful to humans.",answer:false,explain:"Many bacteria are beneficial, including normal flora that aid digestion and prevent pathogen colonization."},
      {type:"tf",diff:"medium",q:"Viruses can reproduce independently without a host cell.",answer:false,explain:"Viruses are obligate intracellular parasites that require host cell machinery to replicate."},
      {type:"tf",diff:"medium",q:"Autoclaving uses high-pressure steam to sterilize materials.",answer:true,explain:"Autoclaving (121C, 15 psi, 15 min) effectively kills all microorganisms including endospores."},
      {type:"tf",diff:"hard",q:"Prions are infectious agents composed of protein with no nucleic acid.",answer:true,explain:"Prions are misfolded proteins that cause other normal proteins to misfold, with no DNA or RNA involved."},
      {type:"fill",diff:"easy",q:"The thick layer in bacterial cell walls made of sugar and amino acids is called ____.",answer:["peptidoglycan","murein"],explain:"Peptidoglycan provides structural rigidity to bacterial cell walls."},
      {type:"fill",diff:"medium",q:"The process where a bacteriophage transfers bacterial DNA from one cell to another is called ____.",answer:["transduction"],explain:"In transduction, a phage accidentally packages host DNA and delivers it to a new bacterium."},
      {type:"fill",diff:"hard",q:"A bacterial growth curve includes lag, log (exponential), stationary, and ____ phases.",answer:["death","decline"],explain:"The death (decline) phase occurs when nutrients deplete and waste accumulates, causing cell death to exceed growth."},
      {type:"short",diff:"medium",q:"Explain the difference between Gram-positive and Gram-negative bacteria.",answer:["Gram-positive bacteria have a thick peptidoglycan layer and retain crystal violet stain (purple). Gram-negative bacteria have a thin peptidoglycan layer with an outer membrane and stain pink with safranin counterstain."],keywords:["peptidoglycan","thick","thin","outer membrane","crystal violet","purple","pink","safranin","gram","stain","cell wall"],explain:"The structural difference in cell walls determines Gram staining: thick peptidoglycan retains violet (positive), thin peptidoglycan with outer membrane loses violet and picks up pink counterstain (negative)."},
      {type:"short",diff:"hard",q:"Compare the lytic and lysogenic cycles of bacteriophage replication.",answer:["In the lytic cycle, the phage immediately replicates and lyses the host cell. In the lysogenic cycle, phage DNA integrates into the host chromosome as a prophage and replicates passively until induced to enter the lytic cycle."],keywords:["lytic","lysogenic","prophage","integrate","lyse","replicate","host","chromosome","induce","dormant","burst"],explain:"Lytic: immediate replication, host lysis, phage release. Lysogenic: integration as prophage, silent replication with host, can be triggered into lytic cycle by stress."},
    ]
  },
  "ecology": {
    name: "Ecology",
    icon: "üåç",
    desc: "Population dynamics, community interactions, ecosystem function, and conservation",
    questions: [
      {type:"mc",diff:"easy",q:"An organism's role in its environment, including how it obtains food and interacts with others, is its:",choices:["Habitat","Biome","Niche","Territory"],answer:2,explain:"An ecological niche encompasses all abiotic and biotic conditions required by a species."},
      {type:"mc",diff:"easy",q:"Producers in an ecosystem are organisms that:",choices:["Consume other organisms","Decompose dead matter","Convert light energy to chemical energy","Parasitize other species"],answer:2,explain:"Producers (autotrophs) form the base of food webs by converting light to chemical energy via photosynthesis."},
      {type:"mc",diff:"easy",q:"A group of individuals of the same species living in the same area is a:",choices:["Community","Ecosystem","Population","Biome"],answer:2,explain:"A population consists of individuals of one species in a defined area."},
      {type:"mc",diff:"medium",q:"The competitive exclusion principle states that:",choices:["Two species can share the same niche indefinitely","Two species competing for identical resources cannot coexist","Competition always leads to extinction","Predators exclude competitors"],answer:1,explain:"Gause's principle: complete competitors cannot coexist; one will outcompete the other."},
      {type:"mc",diff:"medium",q:"Net primary productivity (NPP) is defined as:",choices:["Total photosynthesis","Gross primary production minus respiration","Total energy consumed by herbivores","Energy lost as heat"],answer:1,explain:"NPP = GPP - respiration. It represents the energy available to consumers in the ecosystem."},
      {type:"mc",diff:"medium",q:"Which type of survivorship curve describes species with high early mortality?",choices:["Type I","Type II","Type III","Type IV"],answer:2,explain:"Type III curves (many fish, insects) show very high juvenile mortality with few survivors reaching old age."},
      {type:"mc",diff:"medium",q:"The concept of trophic levels describes:",choices:["Nutrient cycling","Feeding positions in a food chain","Migration patterns","Species diversity"],answer:1,explain:"Trophic levels represent feeding positions: producers (1st), primary consumers (2nd), secondary consumers (3rd), etc."},
      {type:"mc",diff:"medium",q:"Nitrogen fixation is primarily carried out by:",choices:["Plants","Animals","Bacteria","Fungi"],answer:2,explain:"Nitrogen-fixing bacteria (like Rhizobium) convert atmospheric N2 to ammonia, making it biologically available."},
      {type:"mc",diff:"hard",q:"In island biogeography theory, species richness is determined by the balance between:",choices:["Birth and death rates","Immigration and extinction rates","Predation and competition","Temperature and rainfall"],answer:1,explain:"MacArthur and Wilson's theory: equilibrium species number depends on immigration (increases with proximity to mainland) and extinction (decreases with island size)."},
      {type:"mc",diff:"hard",q:"An ecosystem with high species richness AND high evenness has high:",choices:["Productivity","Carrying capacity","Biodiversity","Biomass"],answer:2,explain:"Biodiversity indices like Shannon's incorporate both richness (number of species) and evenness (relative abundance)."},
      {type:"mc",diff:"hard",q:"Bottom-up control of an ecosystem emphasizes the role of:",choices:["Top predators","Nutrient availability and primary productivity","Keystone species","Parasites"],answer:1,explain:"Bottom-up control means resource availability at lower trophic levels drives the structure of the entire ecosystem."},
      {type:"tf",diff:"easy",q:"Energy flows through ecosystems in one direction: from producers to consumers.",answer:true,explain:"Energy flows unidirectionally and is lost as heat at each trophic level; it does not cycle."},
      {type:"tf",diff:"medium",q:"About 10% of energy is transferred from one trophic level to the next.",answer:true,explain:"The 10% rule: roughly 10% of energy at each level is passed to the next; 90% is lost mainly as heat."},
      {type:"tf",diff:"medium",q:"Mutualism benefits one species while the other is unaffected.",answer:false,explain:"That describes commensalism. Mutualism benefits both species in the interaction."},
      {type:"tf",diff:"hard",q:"Density-dependent factors affect populations regardless of population size.",answer:false,explain:"Density-dependent factors (competition, disease) have greater impact at higher population densities. Density-independent factors affect populations regardless of size."},
      {type:"fill",diff:"easy",q:"The maximum number of individuals an environment can sustain is called the ____ capacity.",answer:["carrying"],explain:"Carrying capacity (K) is determined by available resources and environmental conditions."},
      {type:"fill",diff:"medium",q:"The ____ cycle involves the movement of carbon through atmosphere, organisms, oceans, and geosphere.",answer:["carbon"],explain:"The carbon cycle is a biogeochemical cycle essential to life on Earth."},
      {type:"fill",diff:"hard",q:"The relationship between species richness and island size/distance is described by the theory of island ____.",answer:["biogeography"],explain:"Island biogeography theory (MacArthur & Wilson) predicts species richness based on island area and isolation."},
      {type:"short",diff:"medium",q:"Explain the difference between K-selected and r-selected species.",answer:["K-selected species have few offspring, long lifespans, high parental investment, and populations near carrying capacity. R-selected species have many offspring, short lifespans, low parental investment, and rapid reproduction."],keywords:["k-selected","r-selected","offspring","lifespan","parental","carrying capacity","few","many","rapid","slow","investment","reproduction"],explain:"K-strategists invest in few high-quality offspring (elephants, whales). R-strategists produce many offspring with little investment (insects, bacteria)."},
      {type:"short",diff:"hard",q:"Describe how energy and nutrients differ in their movement through ecosystems.",answer:["Energy flows in one direction through trophic levels and is lost as heat at each step. Nutrients cycle through biogeochemical cycles, being recycled between organisms and the physical environment."],keywords:["energy","flow","one direction","heat","lost","nutrient","cycle","recycle","trophic","biogeochemical","environment"],explain:"Energy is unidirectional (sunlight to producers to consumers, lost as heat). Nutrients are recycled (carbon, nitrogen, phosphorus cycles between biotic and abiotic components)."},
    ]
  },
  "cellbio": {
    name: "Cell Biology",
    icon: "üî¨",
    desc: "Eukaryotic cell structure, function, signaling, genetics, and cytoskeleton",
    questions: [
      {type:"mc",diff:"easy",q:"Which organelle contains the cell's genetic material?",choices:["Mitochondria","Nucleus","Ribosome","Lysosome"],answer:1,explain:"The nucleus houses chromosomal DNA and is the control center of the eukaryotic cell."},
      {type:"mc",diff:"easy",q:"Lysosomes function primarily in:",choices:["Protein synthesis","Energy production","Intracellular digestion","Cell division"],answer:2,explain:"Lysosomes contain hydrolytic enzymes that break down cellular waste and foreign materials."},
      {type:"mc",diff:"medium",q:"The signal recognition particle (SRP) directs proteins to the:",choices:["Nucleus","Mitochondria","Endoplasmic reticulum","Plasma membrane directly"],answer:2,explain:"SRP binds the signal peptide on a nascent polypeptide and targets it to the ER membrane for co-translational insertion."},
      {type:"mc",diff:"medium",q:"G protein-coupled receptors (GPCRs) span the membrane how many times?",choices:["Once","Three times","Seven times","Twelve times"],answer:2,explain:"GPCRs are characterized by seven transmembrane alpha-helical domains."},
      {type:"mc",diff:"medium",q:"The cytoskeletal element responsible for muscle contraction is:",choices:["Microtubules","Intermediate filaments","Actin microfilaments","Septins"],answer:2,explain:"Actin microfilaments interact with myosin to generate the force for muscle contraction."},
      {type:"mc",diff:"medium",q:"Receptor tyrosine kinases (RTKs) are activated by:",choices:["G proteins","Ligand-induced dimerization","Ion channel opening","Nuclear translocation"],answer:1,explain:"Ligand binding causes RTK monomers to dimerize and cross-phosphorylate their cytoplasmic domains."},
      {type:"mc",diff:"medium",q:"Vesicles are transported along microtubules by which motor proteins?",choices:["Actin and myosin","Kinesin and dynein","Tubulin and keratin","Collagen and elastin"],answer:1,explain:"Kinesin moves cargo toward the plus end (cell periphery); dynein moves toward the minus end (cell center)."},
      {type:"mc",diff:"hard",q:"The Ras-MAPK signaling cascade is commonly activated downstream of:",choices:["GPCRs only","Ion channels","Receptor tyrosine kinases","Nuclear receptors"],answer:2,explain:"RTK activation recruits adaptor proteins (like Grb2/SOS) that activate Ras, initiating the MAPK cascade."},
      {type:"mc",diff:"hard",q:"Apoptosis differs from necrosis in that apoptosis is:",choices:["Always pathological","Uncontrolled cell death","Programmed and energy-dependent","Caused by toxins only"],answer:2,explain:"Apoptosis is an orderly, ATP-requiring process of programmed cell death that avoids inflammation."},
      {type:"mc",diff:"hard",q:"The proteasome degrades proteins that are tagged with:",choices:["Phosphate groups","Ubiquitin","Methyl groups","Acetyl groups"],answer:1,explain:"Polyubiquitination marks proteins for degradation by the 26S proteasome."},
      {type:"mc",diff:"hard",q:"Tight junctions between epithelial cells function to:",choices:["Allow communication between cells","Anchor cells to basement membrane","Seal the space between cells to prevent leakage","Provide flexible connections"],answer:2,explain:"Tight junctions (zonula occludens) form impermeable barriers between adjacent cells."},
      {type:"tf",diff:"easy",q:"The Golgi apparatus modifies, sorts, and packages proteins for transport.",answer:true,explain:"The Golgi receives proteins from the ER, modifies them (glycosylation, phosphorylation), and sorts them to their destinations."},
      {type:"tf",diff:"medium",q:"Microtubules are composed of actin subunits.",answer:false,explain:"Microtubules are composed of alpha and beta tubulin heterodimers. Microfilaments are composed of actin."},
      {type:"tf",diff:"medium",q:"Second messengers like cAMP amplify intracellular signals.",answer:true,explain:"Second messengers rapidly diffuse through the cytoplasm, amplifying the signal from a single receptor activation."},
      {type:"tf",diff:"hard",q:"Caspases are proteases central to the execution of apoptosis.",answer:true,explain:"Caspases (cysteine-aspartate proteases) cleave cellular substrates in a cascade leading to orderly cell death."},
      {type:"fill",diff:"easy",q:"The ____ reticulum is involved in lipid synthesis and detoxification.",answer:["smooth endoplasmic","smooth","smooth ER","SER"],explain:"The smooth ER lacks ribosomes and functions in lipid metabolism and detoxification."},
      {type:"fill",diff:"medium",q:"The process by which cells take in large particles by engulfing them is called ____.",answer:["phagocytosis"],explain:"Phagocytosis ('cell eating') involves the cell extending pseudopods to engulf large particles."},
      {type:"fill",diff:"hard",q:"The cyclin-dependent kinases (CDKs) regulate progression through the cell ____.",answer:["cycle"],explain:"CDKs, when bound to cyclins, phosphorylate substrates that drive the cell through division checkpoints."},
      {type:"short",diff:"medium",q:"Describe the endomembrane system and how proteins move through it.",answer:["The endomembrane system includes the ER, Golgi, lysosomes, vesicles, and plasma membrane. Proteins are synthesized at the rough ER, transported in vesicles to the Golgi for modification and sorting, then sent to their final destination."],keywords:["endoplasmic reticulum","golgi","vesicle","lysosome","membrane","transport","modify","sort","rough ER","protein","secrete"],explain:"Proteins follow: rough ER (synthesis) to ERGIC to cis-Golgi to medial-Golgi to trans-Golgi network, then sorted into vesicles for secretion, membrane insertion, or lysosomal targeting."},
      {type:"short",diff:"hard",q:"Explain how a G protein-coupled receptor (GPCR) activates an intracellular signaling cascade.",answer:["Ligand binds the GPCR, causing a conformational change. The receptor activates an associated G protein by promoting GDP to GTP exchange. The active G alpha subunit then activates effector enzymes like adenylyl cyclase, producing second messengers like cAMP that amplify the signal."],keywords:["ligand","GPCR","g protein","GTP","GDP","adenylyl cyclase","cAMP","second messenger","conformational","activate","effector","alpha","subunit","amplify"],explain:"GPCR signaling: ligand binds, receptor changes shape, G-alpha exchanges GDP for GTP, dissociates, activates effectors (e.g., adenylyl cyclase makes cAMP), signal amplification through cascade."},
    ]
  },
  "physiology": {
    name: "Human Physiology",
    icon: "‚ù§Ô∏è",
    desc: "Homeostasis, membrane dynamics, organ systems, endocrine and nervous signaling",
    questions: [
      {type:"mc",diff:"easy",q:"Homeostasis refers to the body's ability to:",choices:["Grow larger","Maintain stable internal conditions","Fight infections","Digest food"],answer:1,explain:"Homeostasis is the maintenance of a relatively stable internal environment despite external changes."},
      {type:"mc",diff:"easy",q:"Which organ is primarily responsible for filtering blood and producing urine?",choices:["Liver","Kidney","Spleen","Pancreas"],answer:1,explain:"The kidneys filter blood, reabsorb useful substances, and excrete waste as urine."},
      {type:"mc",diff:"easy",q:"The sinoatrial (SA) node is known as the heart's:",choices:["Valve","Natural pacemaker","Blood filter","Muscle layer"],answer:1,explain:"The SA node generates electrical impulses that set the heart rate."},
      {type:"mc",diff:"easy",q:"Gas exchange in the lungs occurs in the:",choices:["Bronchi","Trachea","Alveoli","Pharynx"],answer:2,explain:"Alveoli are tiny air sacs with thin walls where O2 and CO2 exchange across the respiratory membrane."},
      {type:"mc",diff:"medium",q:"The resting membrane potential of a neuron is approximately:",choices:["+40 mV","0 mV","-70 mV","-120 mV"],answer:2,explain:"At rest, the inside of a neuron is about -70 mV relative to the outside due to ion distribution and permeability."},
      {type:"mc",diff:"medium",q:"Insulin is produced by which cells of the pancreas?",choices:["Alpha cells","Beta cells","Delta cells","Acinar cells"],answer:1,explain:"Beta cells of the islets of Langerhans secrete insulin in response to elevated blood glucose."},
      {type:"mc",diff:"medium",q:"During an action potential, depolarization is caused by the influx of:",choices:["Potassium ions","Chloride ions","Sodium ions","Calcium ions"],answer:2,explain:"Voltage-gated Na+ channels open during depolarization, allowing Na+ to rush into the cell."},
      {type:"mc",diff:"medium",q:"The functional unit of the kidney is the:",choices:["Glomerulus","Nephron","Loop of Henle","Collecting duct"],answer:1,explain:"Each nephron filters blood and processes the filtrate into urine."},
      {type:"mc",diff:"medium",q:"Tidal volume refers to the amount of air:",choices:["In the lungs at maximum inspiration","Exchanged in a normal breath","Remaining after forced expiration","In the dead space"],answer:1,explain:"Tidal volume is the volume of air inhaled or exhaled in a normal, relaxed breath (about 500 mL)."},
      {type:"mc",diff:"hard",q:"The countercurrent multiplier in the loop of Henle creates:",choices:["An osmotic gradient in the renal medulla","Equal concentration throughout the kidney","High pressure in the glomerulus","Acidic urine"],answer:0,explain:"The countercurrent system establishes an increasing osmotic gradient in the medulla, enabling concentration of urine."},
      {type:"mc",diff:"hard",q:"The Frank-Starling law of the heart states that:",choices:["Heart rate is constant","Stroke volume increases with increased venous return","Blood pressure is always 120/80","Cardiac output equals heart rate"],answer:1,explain:"Greater ventricular filling (preload) stretches cardiac muscle, producing a more forceful contraction and increased stroke volume."},
      {type:"mc",diff:"hard",q:"Saltatory conduction occurs in myelinated neurons because:",choices:["Impulses jump between nodes of Ranvier","Myelin conducts electricity","Neurons lack ion channels","All axons are the same diameter"],answer:0,explain:"Myelin insulates the axon; action potentials regenerate only at gaps (nodes of Ranvier), greatly increasing conduction speed."},
      {type:"tf",diff:"easy",q:"Negative feedback mechanisms amplify changes away from a set point.",answer:false,explain:"Negative feedback opposes changes and returns the system toward the set point. Positive feedback amplifies changes."},
      {type:"tf",diff:"medium",q:"The sympathetic and parasympathetic nervous systems generally have opposing effects.",answer:true,explain:"Sympathetic activates fight-or-flight responses; parasympathetic promotes rest-and-digest functions."},
      {type:"tf",diff:"medium",q:"Hemoglobin's affinity for oxygen decreases at lower pH (Bohr effect).",answer:true,explain:"The Bohr effect: lower pH (more CO2/H+) reduces hemoglobin's O2 affinity, promoting O2 release in active tissues."},
      {type:"tf",diff:"hard",q:"ADH (antidiuretic hormone) increases water reabsorption in the collecting ducts.",answer:true,explain:"ADH inserts aquaporin channels in collecting duct cells, increasing water permeability and concentrating urine."},
      {type:"fill",diff:"easy",q:"The exchange of O2 and CO2 between blood and tissues is called ____ respiration.",answer:["internal","cellular"],explain:"Internal (cellular) respiration refers to gas exchange at the tissue level."},
      {type:"fill",diff:"medium",q:"Cardiac output is calculated as heart rate multiplied by ____ volume.",answer:["stroke"],explain:"CO = HR x SV. Stroke volume is the amount of blood ejected per heartbeat."},
      {type:"fill",diff:"hard",q:"The glomerular filtration rate (GFR) is regulated by ____ feedback in the juxtaglomerular apparatus.",answer:["tubuloglomerular"],explain:"Tubuloglomerular feedback adjusts GFR based on NaCl concentration sensed by the macula densa."},
      {type:"short",diff:"medium",q:"Explain how negative feedback maintains homeostasis, using body temperature as an example.",answer:["When body temperature rises above the set point, sensors detect the change, the hypothalamus activates cooling responses like sweating and vasodilation. When temperature drops, shivering and vasoconstriction generate and conserve heat. The response opposes the change, returning temperature to normal."],keywords:["negative feedback","set point","sensor","response","oppose","temperature","hypothalamus","sweating","shivering","vasodilation","vasoconstriction","homeostasis"],explain:"Negative feedback: deviation from set point triggers corrective responses that oppose the change, maintaining stability."},
      {type:"short",diff:"hard",q:"Describe the events of an action potential, including depolarization, repolarization, and the refractory period.",answer:["A stimulus opens voltage-gated Na+ channels, Na+ rushes in causing depolarization to about +30 mV. Then Na+ channels inactivate and K+ channels open, K+ flows out causing repolarization. Brief hyperpolarization occurs before returning to resting potential. The refractory period prevents immediate re-firing."],keywords:["depolarization","repolarization","sodium","potassium","voltage-gated","threshold","channel","inactivate","refractory","hyperpolarization","resting potential","action potential"],explain:"Action potential sequence: resting (-70mV), threshold reached, Na+ influx (depolarization to +30mV), Na+ channels inactivate, K+ efflux (repolarization), hyperpolarization, return to rest. Absolute refractory period prevents back-propagation."},
    ]
  },
  "molbio": {
    name: "Molecular Biology",
    icon: "üß¨",
    desc: "DNA replication, repair, transcription, translation, and recombinant DNA technology",
    questions: [
      {type:"mc",diff:"easy",q:"DNA replication is described as semiconservative because:",choices:["Both strands are new","One strand is old and one is new in each daughter molecule","Only half the DNA is copied","Replication occurs in the S phase"],answer:1,explain:"Each daughter DNA molecule has one parental strand and one newly synthesized strand."},
      {type:"mc",diff:"easy",q:"The central dogma of molecular biology describes the flow of information from:",choices:["Protein to RNA to DNA","RNA to DNA to protein","DNA to RNA to protein","Protein to DNA to RNA"],answer:2,explain:"The central dogma: DNA is transcribed to RNA, which is translated to protein."},
      {type:"mc",diff:"medium",q:"Okazaki fragments are found on the:",choices:["Leading strand","Lagging strand","Template strand","mRNA"],answer:1,explain:"Because DNA polymerase only synthesizes 5' to 3', the lagging strand is made in short Okazaki fragments."},
      {type:"mc",diff:"medium",q:"Which enzyme removes RNA primers and replaces them with DNA during replication?",choices:["Primase","Helicase","DNA Polymerase I","Ligase"],answer:2,explain:"DNA Pol I removes RNA primers with its 5' to 3' exonuclease activity and fills the gaps with DNA."},
      {type:"mc",diff:"medium",q:"The poly-A tail added to eukaryotic mRNA functions to:",choices:["Initiate translation","Protect mRNA from degradation and aid export","Splice out introns","Bind to DNA"],answer:1,explain:"The poly-A tail stabilizes mRNA, aids nuclear export, and helps initiate translation."},
      {type:"mc",diff:"medium",q:"A restriction enzyme cuts DNA at:",choices:["Random locations","Specific palindromic recognition sequences","The telomeres","The origin of replication"],answer:1,explain:"Restriction endonucleases recognize and cleave specific palindromic DNA sequences."},
      {type:"mc",diff:"medium",q:"In eukaryotic gene expression, introns are removed by:",choices:["Ribosomes","The proteasome","The spliceosome","DNA polymerase"],answer:2,explain:"The spliceosome (snRNPs + proteins) catalyzes the removal of introns from pre-mRNA."},
      {type:"mc",diff:"hard",q:"Telomerase is a reverse transcriptase that:",choices:["Repairs double-strand breaks","Extends the 3' overhang of telomeres using an RNA template","Removes primers","Proofreads DNA"],answer:1,explain:"Telomerase carries its own RNA template to extend telomeric repeats, preventing chromosome shortening."},
      {type:"mc",diff:"hard",q:"In eukaryotic transcription, the TATA box is part of the:",choices:["Enhancer","Silencer","Core promoter","Terminator"],answer:2,explain:"The TATA box (consensus TATAAA) is located about 25-30 bp upstream of the transcription start site in the core promoter."},
      {type:"mc",diff:"hard",q:"Mismatch repair corrects errors that escape proofreading by:",choices:["Removing the entire chromosome","Recognizing the newly synthesized strand and excising the mismatch","Inducing apoptosis","Adding more nucleotides"],answer:1,explain:"Mismatch repair proteins identify the new strand (undermethylated in bacteria), excise the error, and resynthesize correctly."},
      {type:"mc",diff:"hard",q:"CRISPR-Cas9 creates a double-strand break guided by:",choices:["A protein-only complex","A guide RNA complementary to the target","Random insertion","Restriction enzymes"],answer:1,explain:"A synthetic guide RNA directs Cas9 nuclease to a specific genomic locus via complementary base pairing."},
      {type:"tf",diff:"easy",q:"RNA polymerase reads the template strand 3' to 5' and synthesizes mRNA 5' to 3'.",answer:true,explain:"Like all nucleic acid polymerases, RNA polymerase synthesizes in the 5' to 3' direction."},
      {type:"tf",diff:"medium",q:"Prokaryotic mRNA often contains multiple coding regions (polycistronic).",answer:true,explain:"Prokaryotic operons produce polycistronic mRNA encoding multiple proteins from one transcript."},
      {type:"tf",diff:"hard",q:"Epigenetic modifications alter the DNA sequence to regulate gene expression.",answer:false,explain:"Epigenetic changes (methylation, histone modification) regulate expression WITHOUT altering the DNA sequence."},
      {type:"fill",diff:"easy",q:"The enzyme that synthesizes RNA from a DNA template is ____.",answer:["rna polymerase"],explain:"RNA polymerase reads the template strand and produces a complementary RNA transcript."},
      {type:"fill",diff:"medium",q:"The non-coding sequences removed from pre-mRNA are called ____.",answer:["introns"],explain:"Introns are spliced out; exons are expressed and joined together in mature mRNA."},
      {type:"fill",diff:"hard",q:"The technique that uses gel electrophoresis to separate DNA fragments followed by probe hybridization is called a ____ blot.",answer:["southern"],explain:"Southern blot detects specific DNA sequences. Northern blot detects RNA; Western blot detects proteins."},
      {type:"short",diff:"medium",q:"Describe the steps of the polymerase chain reaction (PCR).",answer:["PCR has three repeated steps: denaturation (heating to separate DNA strands), annealing (cooling to allow primers to bind), and extension (DNA polymerase synthesizes new strands). This cycle is repeated 25-35 times, exponentially amplifying the target DNA."],keywords:["denaturation","annealing","extension","primer","polymerase","cycle","amplify","heat","separate","strand","taq","exponential"],explain:"PCR cycles: denature (~95C, strands separate), anneal (~55C, primers bind), extend (~72C, Taq polymerase copies). Each cycle doubles the target, giving exponential amplification."},
      {type:"short",diff:"hard",q:"Compare prokaryotic and eukaryotic transcription, noting at least three key differences.",answer:["Prokaryotic transcription uses one RNA polymerase, occurs in the cytoplasm, and can be coupled with translation. Eukaryotic transcription uses three RNA polymerases, occurs in the nucleus, requires general transcription factors, and the mRNA undergoes processing including capping, polyadenylation, and splicing."],keywords:["prokaryotic","eukaryotic","rna polymerase","nucleus","cytoplasm","processing","cap","poly-a","splicing","intron","transcription factor","coupled","translation"],explain:"Key differences: location (cytoplasm vs. nucleus), number of RNA polymerases (1 vs. 3), mRNA processing (none vs. cap, poly-A, splicing), coupling with translation (yes vs. no), transcription factors required."},
    ]
  },
  "biostats": {
    name: "Biostatistics",
    icon: "üìà",
    desc: "ANOVA, regression analysis, nonparametric statistics, and contingency tables",
    questions: [
      {type:"mc",diff:"easy",q:"ANOVA stands for:",choices:["Analysis of Numerical Outcomes for Variables and Attributes","Analysis of Variance","Average Numerical Outcome Values Assessment","Applied Nonparametric Observed Variable Analysis"],answer:1,explain:"ANOVA (Analysis of Variance) tests for significant differences between three or more group means."},
      {type:"mc",diff:"easy",q:"A dependent variable is the variable that is:",choices:["Manipulated by the researcher","Measured as the outcome","Held constant","Randomly assigned"],answer:1,explain:"The dependent variable is the outcome being measured that may change in response to the independent variable."},
      {type:"mc",diff:"medium",q:"In a one-way ANOVA, the F-ratio is calculated as:",choices:["Within-group variance / between-group variance","Between-group variance / within-group variance","Total variance / sample size","Mean / standard deviation"],answer:1,explain:"F = MS_between / MS_within. A large F suggests group means differ more than expected by chance."},
      {type:"mc",diff:"medium",q:"A nonparametric test is used when:",choices:["Data are normally distributed","Sample size is very large","Assumptions of parametric tests are violated","Data are continuous"],answer:2,explain:"Nonparametric tests make fewer assumptions about data distribution and are used when parametric assumptions are not met."},
      {type:"mc",diff:"medium",q:"The Mann-Whitney U test is the nonparametric equivalent of:",choices:["Paired t-test","Independent samples t-test","One-way ANOVA","Chi-square test"],answer:1,explain:"Mann-Whitney U compares two independent groups when normality cannot be assumed."},
      {type:"mc",diff:"medium",q:"In linear regression, the coefficient of determination (R squared) represents:",choices:["The slope of the line","The proportion of variance in Y explained by X","The standard error","The intercept"],answer:1,explain:"R-squared ranges from 0 to 1 and indicates how well the model fits the data."},
      {type:"mc",diff:"medium",q:"Post-hoc tests after ANOVA are used to:",choices:["Determine if ANOVA assumptions are met","Identify which specific group means differ","Calculate the F-ratio","Test for normality"],answer:1,explain:"Post-hoc tests (Tukey, Bonferroni) perform pairwise comparisons after a significant ANOVA result."},
      {type:"mc",diff:"hard",q:"The Kruskal-Wallis test is the nonparametric equivalent of:",choices:["Paired t-test","Independent t-test","One-way ANOVA","Two-way ANOVA"],answer:2,explain:"Kruskal-Wallis compares three or more independent groups using ranked data when ANOVA assumptions are violated."},
      {type:"mc",diff:"hard",q:"In multiple regression, multicollinearity refers to:",choices:["Nonlinear relationships","High correlation between predictor variables","Missing data","Heteroscedasticity"],answer:1,explain:"Multicollinearity occurs when predictor variables are highly correlated, making it difficult to isolate individual effects."},
      {type:"mc",diff:"hard",q:"A Type II error in biological research means:",choices:["Concluding a drug works when it does not","Failing to detect a real treatment effect","Using the wrong statistical test","Having too large a sample"],answer:1,explain:"Type II (false negative): failing to reject a false null hypothesis, missing a real effect."},
      {type:"tf",diff:"medium",q:"A chi-square test can be used to analyze the relationship between two categorical variables.",answer:true,explain:"The chi-square test of independence assesses whether two categorical variables are associated."},
      {type:"tf",diff:"medium",q:"Parametric tests are always more powerful than nonparametric tests.",answer:false,explain:"Parametric tests are generally more powerful WHEN their assumptions are met. When assumptions are violated, nonparametric tests may perform better."},
      {type:"tf",diff:"hard",q:"Bonferroni correction adjusts p-values to control for multiple comparisons.",answer:true,explain:"Bonferroni divides alpha by the number of comparisons to reduce the chance of Type I errors."},
      {type:"fill",diff:"medium",q:"The statistical power of a test is the probability of correctly rejecting a false ____ hypothesis.",answer:["null"],explain:"Power = 1 - beta (probability of Type II error). Higher power means better detection of real effects."},
      {type:"fill",diff:"hard",q:"In regression, the difference between the observed and predicted values is called the ____.",answer:["residual","residuals","error"],explain:"Residuals (e = observed - predicted) are used to assess model fit and check assumptions."},
      {type:"short",diff:"medium",q:"Explain when you would use a nonparametric test instead of a parametric test.",answer:["Use nonparametric tests when data violate parametric assumptions such as non-normal distribution, ordinal data, small sample sizes, or unequal variances that cannot be corrected."],keywords:["nonparametric","assumption","normal","distribution","ordinal","small sample","variance","violated","rank","skewed"],explain:"Nonparametric tests are appropriate for non-normal data, ordinal scales, small samples, and when variances are unequal."},
      {type:"short",diff:"hard",q:"Describe the assumptions of one-way ANOVA and what happens when they are violated.",answer:["One-way ANOVA assumes independent observations, normally distributed residuals within each group, and equal variances across groups (homoscedasticity). Violations can inflate Type I error rate. Remedies include data transformation, using Welch's ANOVA for unequal variances, or switching to Kruskal-Wallis."],keywords:["independence","normality","homoscedasticity","equal variance","assumption","violated","type I","transform","welch","kruskal-wallis","robust"],explain:"ANOVA assumptions: independence, normality, homogeneity of variance. Moderate violations of normality are tolerable with large samples. Unequal variances can be addressed with Welch's ANOVA or nonparametric alternatives."},
    ]
  },
  "evolution": {
    name: "Principles of Evolution",
    icon: "ü¶é",
    desc: "Evidence for evolution, natural selection, speciation, and phylogenetics",
    questions: [
      {type:"mc",diff:"easy",q:"Natural selection acts on:",choices:["Genotypes directly","Phenotypes","DNA sequences","Mutations"],answer:1,explain:"Natural selection acts on phenotypes (observable traits) because these affect survival and reproduction."},
      {type:"mc",diff:"easy",q:"Structures in different species that share a common ancestry are called:",choices:["Analogous structures","Homologous structures","Vestigial structures","Convergent structures"],answer:1,explain:"Homologous structures (like forelimbs of mammals) share evolutionary origin despite different functions."},
      {type:"mc",diff:"easy",q:"The fossil record provides evidence for evolution by showing:",choices:["That all species appeared at once","Changes in organisms over time","That evolution does not occur","Only invertebrate history"],answer:1,explain:"Fossils document the appearance, diversification, and extinction of species over geological time."},
      {type:"mc",diff:"easy",q:"Charles Darwin's theory of evolution by natural selection was published in:",choices:["1776","1859","1900","1953"],answer:1,explain:"On the Origin of Species was published in 1859."},
      {type:"mc",diff:"medium",q:"Genetic drift has the greatest effect on:",choices:["Large populations","Small populations","Populations in equilibrium","Infinite populations"],answer:1,explain:"Random changes in allele frequency (genetic drift) have a much larger impact in small populations."},
      {type:"mc",diff:"medium",q:"Allopatric speciation occurs when populations are separated by:",choices:["Behavior","Time","A geographic barrier","Habitat preference within the same area"],answer:2,explain:"Allopatric speciation results from geographic isolation preventing gene flow between populations."},
      {type:"mc",diff:"medium",q:"Hardy-Weinberg equilibrium requires all of the following EXCEPT:",choices:["No mutation","Random mating","Natural selection","Large population size"],answer:2,explain:"Hardy-Weinberg requires no selection, no mutation, random mating, no migration, and large population size."},
      {type:"mc",diff:"medium",q:"Convergent evolution produces:",choices:["Homologous structures","Analogous structures","Vestigial structures","No structural similarities"],answer:1,explain:"Convergent evolution produces analogous structures (similar function, different origin) in unrelated species facing similar environments."},
      {type:"mc",diff:"medium",q:"Stabilizing selection favors:",choices:["Extreme phenotypes","Intermediate phenotypes","All phenotypes equally","Only new mutations"],answer:1,explain:"Stabilizing selection reduces variation by favoring intermediate phenotypes and selecting against extremes."},
      {type:"mc",diff:"hard",q:"In a population, the frequency of the homozygous recessive genotype (aa) is 0.16. The frequency of the recessive allele (q) is:",choices:["0.16","0.4","0.6","0.84"],answer:1,explain:"q^2 = 0.16, so q = sqrt(0.16) = 0.4."},
      {type:"mc",diff:"hard",q:"Sympatric speciation can occur through:",choices:["Geographic isolation only","Polyploidy in plants","Continental drift","Allopatric mechanisms"],answer:1,explain:"Polyploidy (chromosome doubling) can instantly create reproductive isolation without geographic separation."},
      {type:"mc",diff:"hard",q:"Phylogenetic trees are constructed using:",choices:["Only morphological data","Only fossil data","Shared derived characters (synapomorphies)","Overall similarity only"],answer:2,explain:"Cladistic analysis groups organisms by shared derived characters (synapomorphies) that indicate common ancestry."},
      {type:"mc",diff:"hard",q:"The molecular clock hypothesis assumes that:",choices:["All genes evolve at the same rate","Neutral mutations accumulate at a roughly constant rate","Evolution stops in stable environments","DNA never changes"],answer:1,explain:"The molecular clock relies on the assumption that neutral substitutions occur at an approximately constant rate over time."},
      {type:"tf",diff:"easy",q:"Evolution means that individual organisms change during their lifetime.",answer:false,explain:"Evolution is a change in allele frequencies in a population over generations. Individuals do not evolve."},
      {type:"tf",diff:"medium",q:"Gene flow between populations tends to increase genetic differences between them.",answer:false,explain:"Gene flow homogenizes populations by introducing alleles, reducing genetic differences between them."},
      {type:"tf",diff:"medium",q:"Sexual selection can lead to traits that reduce survival but increase mating success.",answer:true,explain:"Sexual selection can favor traits like peacock tails that attract mates despite being costly to survival."},
      {type:"tf",diff:"hard",q:"Neutral theory proposes that most molecular evolution is driven by natural selection.",answer:false,explain:"Kimura's neutral theory proposes that most molecular variation is selectively neutral and changes by genetic drift."},
      {type:"fill",diff:"easy",q:"The change in allele frequencies in a population over time is the definition of ____.",answer:["evolution","biological evolution"],explain:"Evolution at its most basic is defined as changes in allele frequencies across generations."},
      {type:"fill",diff:"medium",q:"The Hardy-Weinberg equation for genotype frequencies is p^2 + 2pq + ____^2 = 1.",answer:["q"],explain:"p^2 (AA) + 2pq (Aa) + q^2 (aa) = 1, where p + q = 1."},
      {type:"fill",diff:"hard",q:"The formation of new species is called ____.",answer:["speciation"],explain:"Speciation is the evolutionary process by which new biological species arise."},
      {type:"short",diff:"medium",q:"Describe the evidence for evolution from comparative anatomy, including homologous and vestigial structures.",answer:["Homologous structures share a common origin but may differ in function, indicating descent from a common ancestor. Vestigial structures are reduced remnants of structures that were functional in ancestors, providing evidence of evolutionary change over time."],keywords:["homologous","vestigial","common ancestor","comparative","anatomy","structure","function","descent","remnant","reduced","evidence"],explain:"Homologous structures (bat wing, human arm) show common ancestry. Vestigial structures (human appendix, whale pelvis) show remnants of ancestral features."},
      {type:"short",diff:"hard",q:"Explain the Hardy-Weinberg equilibrium model and list the conditions required for it to hold.",answer:["Hardy-Weinberg states that allele and genotype frequencies remain constant across generations in the absence of evolutionary forces. Conditions: no mutation, random mating, no natural selection, no genetic drift (infinite population), and no gene flow."],keywords:["hardy-weinberg","equilibrium","allele","frequency","constant","mutation","random mating","selection","drift","gene flow","population","generation"],explain:"HW equilibrium is a null model for evolution. Violation of any condition (mutation, selection, drift, migration, non-random mating) causes allele frequencies to change, which is evolution."},
    ]
  },
  "anachem": {
    name: "Analytical Chemistry",
    icon: "‚öñÔ∏è",
    desc: "Quantitative analysis, titrations, spectroscopy, and modern analytical techniques",
    questions: [
      {type:"mc",diff:"easy",q:"A titration is used to determine the:",choices:["Melting point of a substance","Concentration of an unknown solution","Crystal structure","Molecular weight"],answer:1,explain:"Titrations use a solution of known concentration (titrant) to determine the concentration of an analyte."},
      {type:"mc",diff:"easy",q:"The endpoint of a titration is typically detected by:",choices:["Temperature change","Color change of an indicator","Sound","Evaporation"],answer:1,explain:"Indicators change color at or near the equivalence point, signaling the endpoint."},
      {type:"mc",diff:"medium",q:"Beer's Law relates absorbance to:",choices:["Temperature and pressure","Concentration and path length","Molecular weight and density","Volume and mass"],answer:1,explain:"A = epsilon * b * c, where epsilon is molar absorptivity, b is path length, and c is concentration."},
      {type:"mc",diff:"medium",q:"In gravimetric analysis, the analyte is:",choices:["Titrated with a standard","Converted to a weighable precipitate","Measured by light absorption","Detected by electrical current"],answer:1,explain:"Gravimetric analysis isolates the analyte as a precipitate, which is filtered, dried, and weighed."},
      {type:"mc",diff:"medium",q:"Precision in analytical chemistry refers to:",choices:["How close results are to the true value","How reproducible results are","The sensitivity of the instrument","The detection limit"],answer:1,explain:"Precision measures the reproducibility (agreement among repeated measurements). Accuracy measures closeness to the true value."},
      {type:"mc",diff:"medium",q:"A primary standard is a substance that is:",choices:["Approximate in concentration","Highly pure with known stoichiometry","Always a liquid","Unstable and reactive"],answer:1,explain:"Primary standards are ultra-pure, stable, and have well-defined stoichiometry for preparing standard solutions."},
      {type:"mc",diff:"hard",q:"In EDTA titrations, the chelating agent forms complexes with metals in a ratio of:",choices:["1:1","1:2","2:1","Variable"],answer:0,explain:"EDTA is a hexadentate ligand that forms 1:1 complexes with most metal ions regardless of charge."},
      {type:"mc",diff:"hard",q:"The limit of detection (LOD) is typically defined as:",choices:["The highest measurable concentration","The signal equal to 3 times the noise","The midpoint of the calibration curve","The solubility limit"],answer:1,explain:"LOD is commonly defined as the concentration giving a signal 3 times the standard deviation of the blank."},
      {type:"mc",diff:"hard",q:"In atomic absorption spectroscopy, the light source is typically a:",choices:["Deuterium lamp","Hollow cathode lamp","Tungsten filament","LED"],answer:1,explain:"Hollow cathode lamps emit narrow spectral lines specific to the element being analyzed."},
      {type:"tf",diff:"easy",q:"Accuracy and precision mean the same thing in analytical chemistry.",answer:false,explain:"Accuracy is closeness to the true value; precision is reproducibility. Results can be precise but inaccurate."},
      {type:"tf",diff:"medium",q:"A calibration curve relates instrument response to known concentrations of an analyte.",answer:true,explain:"Calibration curves plot signal vs. concentration of standards to determine unknown concentrations."},
      {type:"tf",diff:"hard",q:"Systematic errors can be reduced by increasing the number of measurements.",answer:false,explain:"Systematic errors (bias) affect all measurements equally and are not reduced by repetition. Random errors are reduced by averaging."},
      {type:"fill",diff:"easy",q:"The point in a titration where moles of acid equal moles of base is the ____ point.",answer:["equivalence"],explain:"The equivalence point is where stoichiometrically equal amounts of reactants have been mixed."},
      {type:"fill",diff:"medium",q:"Beer's Law is written as A = epsilon * b * ____.",answer:["c","concentration"],explain:"A = epsilon * b * c, where c is the concentration of the absorbing species."},
      {type:"fill",diff:"hard",q:"The technique that separates components of a mixture based on their distribution between a stationary and mobile phase is called ____.",answer:["chromatography"],explain:"Chromatography separates analytes based on differential partitioning between stationary and mobile phases."},
      {type:"short",diff:"medium",q:"Explain the difference between accuracy and precision in analytical measurements.",answer:["Accuracy is how close a measurement is to the true or accepted value. Precision is how close repeated measurements are to each other. Measurements can be precise but not accurate, or accurate but not precise."],keywords:["accuracy","precision","true value","close","reproducible","repeated","bias","random","measurement","agreement"],explain:"Accuracy = closeness to truth (affected by systematic error). Precision = reproducibility (affected by random error). Ideally both are high."},
    ]
  },
  "pchem": {
    name: "Physical Chemistry I",
    icon: "üå°Ô∏è",
    desc: "Gas laws, kinetic theory, thermodynamics, equilibria, and electrochemistry",
    questions: [
      {type:"mc",diff:"easy",q:"The ideal gas law is expressed as:",choices:["PV = nRT","PV = mRT","P = nRV/T","PT = nRV"],answer:0,explain:"PV = nRT relates pressure, volume, amount, and temperature of an ideal gas."},
      {type:"mc",diff:"easy",q:"An isothermal process occurs at constant:",choices:["Pressure","Volume","Temperature","Entropy"],answer:2,explain:"Isothermal means constant temperature throughout the process."},
      {type:"mc",diff:"medium",q:"For an ideal gas expanding irreversibly against constant external pressure, the work is:",choices:["w = -nRT ln(V2/V1)","w = -P_ext * delta V","w = 0","w = delta U"],answer:1,explain:"For irreversible expansion against constant external pressure: w = -P_ext(V2 - V1)."},
      {type:"mc",diff:"medium",q:"The Carnot efficiency of a heat engine depends on:",choices:["The working fluid","The temperatures of hot and cold reservoirs","The pressure","The volume of the engine"],answer:1,explain:"Carnot efficiency = 1 - Tc/Th. It depends only on reservoir temperatures."},
      {type:"mc",diff:"medium",q:"For a reversible, isothermal expansion of an ideal gas:",choices:["Delta U = 0, q = -w","Delta U > 0","Delta H < 0","w = 0"],answer:0,explain:"For isothermal process with ideal gas: delta U = 0 (U depends only on T), so q = -w."},
      {type:"mc",diff:"medium",q:"The chemical potential of a species is defined as:",choices:["Total energy per mole","Partial molar Gibbs energy","Kinetic energy per particle","Pressure times volume"],answer:1,explain:"Chemical potential mu_i = (dG/dn_i) at constant T, P, and other n_j."},
      {type:"mc",diff:"hard",q:"The van der Waals equation corrects the ideal gas law for:",choices:["Temperature variations only","Intermolecular forces and finite molecular volume","Nuclear forces","Relativistic effects"],answer:1,explain:"(P + a/V^2)(V - b) = nRT, where 'a' corrects for attractions and 'b' for molecular volume."},
      {type:"mc",diff:"hard",q:"The Clausius-Clapeyron equation relates:",choices:["Pressure and volume","Vapor pressure and temperature","Entropy and enthalpy","Heat capacity and work"],answer:1,explain:"d(ln P)/dT = delta H_vap / (RT^2) describes how vapor pressure changes with temperature."},
      {type:"mc",diff:"hard",q:"The Nernst equation relates cell potential to:",choices:["Temperature only","Ion concentrations","Pressure and volume","Magnetic field strength"],answer:1,explain:"E = E_standard - (RT/nF)ln(Q). The Nernst equation shows how cell potential depends on ion activities."},
      {type:"mc",diff:"hard",q:"At equilibrium, the Gibbs free energy of the system is at a:",choices:["Maximum","Minimum","Zero","Undefined"],answer:1,explain:"A system at equilibrium has minimum Gibbs free energy; any change would increase G."},
      {type:"tf",diff:"medium",q:"Entropy is a state function.",answer:true,explain:"Entropy depends only on the current state, not the path taken to reach it."},
      {type:"tf",diff:"medium",q:"An adiabatic process exchanges no heat with the surroundings.",answer:true,explain:"Adiabatic means q = 0. All energy changes manifest as work or internal energy changes."},
      {type:"tf",diff:"hard",q:"The Gibbs phase rule states F = C - P + 2, where F is degrees of freedom.",answer:true,explain:"F (degrees of freedom) = C (components) - P (phases) + 2 (T and P)."},
      {type:"fill",diff:"easy",q:"A process at constant pressure is called ____.",answer:["isobaric"],explain:"Isobaric = constant pressure. Isothermal = constant T. Isochoric = constant V."},
      {type:"fill",diff:"medium",q:"The thermodynamic quantity delta G = delta H - T * delta ____ determines spontaneity.",answer:["s","S","entropy"],explain:"The Gibbs free energy equation: delta G = delta H - T * delta S."},
      {type:"fill",diff:"hard",q:"The partition function in statistical thermodynamics sums over all possible ____ of a system.",answer:["microstates","states","energy states"],explain:"The partition function Q = sum of e^(-Ei/kT) over all microstates links microscopic and macroscopic properties."},
      {type:"short",diff:"medium",q:"Explain the difference between reversible and irreversible processes in thermodynamics.",answer:["A reversible process occurs infinitely slowly through equilibrium states and produces maximum work. An irreversible process occurs spontaneously, is not at equilibrium, and produces less work than the reversible case."],keywords:["reversible","irreversible","equilibrium","maximum work","spontaneous","slow","infinitesimal","path","efficiency"],explain:"Reversible: infinitesimal steps, system always near equilibrium, maximum work. Irreversible: finite driving force, less work, entropy produced."},
    ]
  },
  "immunology": {
    name: "Immunology",
    icon: "üõ°Ô∏è",
    desc: "Humoral and cell-mediated immunity, complement system, and inflammatory response",
    questions: [
      {type:"mc",diff:"easy",q:"Which cells are primarily responsible for antibody production?",choices:["T cells","B cells (plasma cells)","Macrophages","Neutrophils"],answer:1,explain:"B cells differentiate into plasma cells that secrete antibodies (immunoglobulins)."},
      {type:"mc",diff:"easy",q:"The innate immune system is characterized by:",choices:["Specificity and memory","Rapid, nonspecific response","Slow activation","Antibody production"],answer:1,explain:"Innate immunity provides immediate, broad-spectrum defense without immunological memory."},
      {type:"mc",diff:"easy",q:"Antibodies are also known as:",choices:["Antigens","Immunoglobulins","Cytokines","Complement"],answer:1,explain:"Antibodies (immunoglobulins) are Y-shaped proteins that specifically recognize and bind antigens."},
      {type:"mc",diff:"easy",q:"Vaccines work by:",choices:["Killing all pathogens immediately","Stimulating adaptive immunity to produce memory cells","Replacing the immune system","Providing antibiotics"],answer:1,explain:"Vaccines expose the immune system to antigens, generating memory B and T cells for faster future responses."},
      {type:"mc",diff:"medium",q:"MHC class I molecules present antigens to:",choices:["B cells","CD4+ helper T cells","CD8+ cytotoxic T cells","Natural killer cells"],answer:2,explain:"MHC I presents intracellular peptides to CD8+ T cells, which kill infected cells."},
      {type:"mc",diff:"medium",q:"MHC class II molecules are found on:",choices:["All nucleated cells","Only antigen-presenting cells","Red blood cells","Platelets"],answer:1,explain:"MHC II is expressed on professional APCs (dendritic cells, macrophages, B cells) and presents to CD4+ T cells."},
      {type:"mc",diff:"medium",q:"The complement system can be activated by which three pathways?",choices:["Lytic, lysogenic, and latent","Classical, lectin, and alternative","Primary, secondary, and tertiary","Humoral, cellular, and mucosal"],answer:1,explain:"Complement activation occurs via classical (antibody), lectin (mannose binding), and alternative (spontaneous) pathways."},
      {type:"mc",diff:"medium",q:"Which immunoglobulin class is most abundant in blood?",choices:["IgA","IgM","IgG","IgE"],answer:2,explain:"IgG is the most abundant antibody in serum and provides the majority of antibody-based immunity."},
      {type:"mc",diff:"medium",q:"Helper T cells (CD4+) primarily function by:",choices:["Directly killing infected cells","Secreting cytokines that activate other immune cells","Producing antibodies","Performing phagocytosis"],answer:1,explain:"CD4+ T cells orchestrate immune responses by releasing cytokines that activate B cells, CD8+ T cells, and macrophages."},
      {type:"mc",diff:"hard",q:"Somatic hypermutation in B cells results in:",choices:["Class switching","Increased antibody diversity and affinity maturation","T cell activation","Complement activation"],answer:1,explain:"Somatic hypermutation introduces point mutations in immunoglobulin variable regions, and selection favors higher-affinity variants."},
      {type:"mc",diff:"hard",q:"Central tolerance eliminates self-reactive lymphocytes in the:",choices:["Spleen and lymph nodes","Thymus (T cells) and bone marrow (B cells)","Liver and kidney","Skin and mucosal surfaces"],answer:1,explain:"T cells undergo negative selection in the thymus; B cells undergo clonal deletion in the bone marrow."},
      {type:"mc",diff:"hard",q:"A Type I hypersensitivity reaction involves:",choices:["IgG-mediated cytotoxicity","Immune complex deposition","IgE-mediated mast cell degranulation","Delayed T cell response"],answer:2,explain:"Type I (immediate/allergic) reactions involve IgE crosslinking on mast cells, triggering histamine release."},
      {type:"mc",diff:"hard",q:"Regulatory T cells (Tregs) function to:",choices:["Kill virus-infected cells","Suppress immune responses and maintain tolerance","Produce IgE","Activate complement"],answer:1,explain:"Tregs (CD4+ CD25+ FoxP3+) suppress excessive immune activation and prevent autoimmunity."},
      {type:"tf",diff:"easy",q:"The adaptive immune system has immunological memory.",answer:true,explain:"Memory B and T cells enable faster, stronger responses upon re-exposure to the same antigen."},
      {type:"tf",diff:"medium",q:"Natural killer (NK) cells are part of the adaptive immune system.",answer:false,explain:"NK cells are innate immune lymphocytes that kill virus-infected and tumor cells without prior sensitization."},
      {type:"tf",diff:"medium",q:"Antibody class switching changes the specificity of the antibody.",answer:false,explain:"Class switching changes the heavy chain constant region (and thus effector function) but retains the same antigen specificity."},
      {type:"tf",diff:"hard",q:"Autoimmune diseases result from a breakdown in immunological tolerance to self-antigens.",answer:true,explain:"When central or peripheral tolerance mechanisms fail, the immune system attacks self-tissues."},
      {type:"fill",diff:"easy",q:"The region of an antibody that binds to an antigen is called the ____ binding site.",answer:["antigen"],explain:"The antigen-binding site is formed by the variable regions of the heavy and light chains."},
      {type:"fill",diff:"medium",q:"The process by which white blood cells engulf and destroy pathogens is called ____.",answer:["phagocytosis"],explain:"Phagocytes (neutrophils, macrophages) engulf microbes into phagosomes for destruction."},
      {type:"fill",diff:"hard",q:"V(D)J recombination generates antibody ____ by rearranging gene segments.",answer:["diversity","repertoire"],explain:"Random recombination of Variable, Diversity, and Joining gene segments creates millions of unique antigen receptors."},
      {type:"short",diff:"medium",q:"Explain the difference between innate and adaptive immunity.",answer:["Innate immunity is the body's first line of defense, providing rapid, nonspecific responses through barriers, phagocytes, and inflammation. Adaptive immunity is slower to activate but provides specific responses through B cells (antibodies) and T cells, with immunological memory for faster secondary responses."],keywords:["innate","adaptive","nonspecific","specific","rapid","slow","memory","antibody","t cell","b cell","phagocyte","barrier","first","second"],explain:"Innate: immediate, broad, no memory (skin, phagocytes, complement). Adaptive: delayed, specific, memory (B cells/antibodies, T cells)."},
      {type:"short",diff:"hard",q:"Describe the process of antigen presentation via MHC class I and explain its importance in immune defense.",answer:["Intracellular proteins are degraded by the proteasome into peptides, transported to the ER by TAP, loaded onto MHC class I molecules, and displayed on the cell surface. CD8+ cytotoxic T cells recognize peptide-MHC I complexes on infected or abnormal cells and kill them."],keywords:["MHC class I","proteasome","peptide","TAP","ER","CD8","cytotoxic","kill","surface","present","infected","intracellular"],explain:"MHC I pathway: cytoplasmic proteins degraded by proteasome, peptides transported to ER via TAP, loaded onto MHC I, displayed on surface. CD8+ T cells survey MHC I to detect infected/abnormal cells."},
    ]
  }
};

// ============================================================
// APP STATE
// ============================================================
let state = {
  course: null,
  difficulty: 'mixed',
  formats: ['all'],
  numQuestions: 10,
  currentQ: 0,
  score: 0,
  questions: [],
  answered: false
};

// ============================================================
// SCREEN MANAGEMENT
// ============================================================
function showScreen(name) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById('screen-' + name).classList.add('active');
}

// ============================================================
// COURSE GRID
// ============================================================
function renderCourses() {
  const grid = document.getElementById('courseGrid');
  grid.innerHTML = '';
  for (const [key, course] of Object.entries(QUESTIONS)) {
    const card = document.createElement('div');
    card.className = 'course-card';
    card.onclick = () => selectCourse(key);
    card.innerHTML = `
      <div class="course-icon">${course.icon}</div>
      <h3>${course.name}</h3>
      <p>${course.desc}</p>
      <span class="question-count-badge">${course.questions.length} questions</span>
    `;
    grid.appendChild(card);
  }
}

function selectCourse(key) {
  state.course = key;
  document.getElementById('settingsTitle').textContent = QUESTIONS[key].name + ' Quiz';
  showScreen('settings');
}

// ============================================================
// SETTINGS
// ============================================================
function setDifficulty(diff) {
  state.difficulty = diff;
  document.querySelectorAll('.diff-btn').forEach(b => {
    b.classList.toggle('active', b.dataset.diff === diff);
  });
}

function toggleFormat(fmt) {
  if (fmt === 'all') {
    state.formats = ['all'];
  } else {
    state.formats = state.formats.filter(f => f !== 'all');
    if (state.formats.includes(fmt)) {
      state.formats = state.formats.filter(f => f !== fmt);
    } else {
      state.formats.push(fmt);
    }
    if (state.formats.length === 0) state.formats = ['all'];
  }
  document.querySelectorAll('.format-btn').forEach(b => {
    if (b.dataset.fmt === 'all') {
      b.classList.toggle('active', state.formats.includes('all'));
    } else {
      b.classList.toggle('active', state.formats.includes(b.dataset.fmt));
    }
  });
}

function updateSlider() {
  const v = document.getElementById('numSlider').value;
  document.getElementById('sliderVal').textContent = v;
  state.numQuestions = parseInt(v);
}

// ============================================================
// QUIZ ENGINE
// ============================================================
function startQuiz() {
  const pool = QUESTIONS[state.course].questions.filter(q => {
    const diffOk = state.difficulty === 'mixed' || q.diff === state.difficulty;
    const fmtOk = state.formats.includes('all') || state.formats.includes(q.type);
    return diffOk && fmtOk;
  });

  // Shuffle
  const shuffled = pool.sort(() => Math.random() - 0.5);
  state.questions = shuffled.slice(0, Math.min(state.numQuestions, shuffled.length));
  state.currentQ = 0;
  state.score = 0;
  state.answered = false;

  document.getElementById('quizCourse').textContent = QUESTIONS[state.course].name;
  updateDiffButtons();
  showScreen('quiz');
  renderQuestion();
}

function retryQuiz() {
  showScreen('settings');
}

function renderQuestion() {
  if (state.currentQ >= state.questions.length) {
    showResults();
    return;
  }

  state.answered = false;
  const q = state.questions[state.currentQ];
  const area = document.getElementById('questionArea');

  document.getElementById('quizProgress').textContent = `${state.currentQ + 1} / ${state.questions.length}`;
  document.getElementById('quizScore').textContent = `Score: ${state.score}`;
  document.getElementById('progressBar').style.width = ((state.currentQ) / state.questions.length * 100) + '%';

  const typeLabels = {mc:'Multiple Choice',tf:'True / False',fill:'Fill in the Blank',short:'Short Answer'};

  let html = `<div class="question-card">
    <div class="question-meta">
      <span class="meta-tag ${q.diff}">${q.diff}</span>
      <span class="meta-tag type">${typeLabels[q.type]}</span>
    </div>
    <div class="question-text">${q.q}</div>`;

  if (q.type === 'mc') {
    html += '<div class="choices">';
    const letters = ['A','B','C','D'];
    q.choices.forEach((c, i) => {
      html += `<button class="choice-btn" onclick="answerMC(${i})" data-idx="${i}">
        <span class="choice-letter">${letters[i]}</span><span>${c}</span>
      </button>`;
    });
    html += '</div>';
  } else if (q.type === 'tf') {
    html += `<div class="tf-buttons">
      <button class="tf-btn" onclick="answerTF(true)">True</button>
      <button class="tf-btn" onclick="answerTF(false)">False</button>
    </div>`;
  } else if (q.type === 'fill') {
    html += `<div class="answer-input-container">
      <input class="answer-input" id="fillInput" placeholder="Type your answer..." 
        onkeydown="if(event.key==='Enter')submitFill()">
      <button class="submit-answer-btn" onclick="submitFill()">Submit</button>
    </div>`;
  } else if (q.type === 'short') {
    html += `<div class="answer-input-container">
      <input class="answer-input" id="shortInput" placeholder="Type your answer..." 
        onkeydown="if(event.key==='Enter')submitShort()">
      <button class="submit-answer-btn" onclick="submitShort()">Submit</button>
    </div>`;
  }

  html += `<div class="feedback" id="feedback"></div></div>
    <button class="next-btn" id="nextBtn" onclick="nextQuestion()">Next Question ‚Üí</button>`;

  area.innerHTML = html;
}

function answerMC(idx) {
  if (state.answered) return;
  state.answered = true;
  const q = state.questions[state.currentQ];
  const correct = idx === q.answer;
  if (correct) state.score++;

  document.querySelectorAll('.choice-btn').forEach((btn, i) => {
    btn.classList.add('disabled');
    if (i === q.answer) btn.classList.add('correct');
    if (i === idx && !correct) btn.classList.add('wrong');
  });

  showFeedback(correct, q.explain);
}

function answerTF(val) {
  if (state.answered) return;
  state.answered = true;
  const q = state.questions[state.currentQ];
  const correct = val === q.answer;
  if (correct) state.score++;

  document.querySelectorAll('.tf-btn').forEach(btn => {
    btn.classList.add('disabled');
    const btnVal = btn.textContent === 'True';
    if (btnVal === q.answer) btn.classList.add('correct');
    if (btnVal === val && !correct) btn.classList.add('wrong');
  });

  showFeedback(correct, q.explain);
}

function submitFill() {
  if (state.answered) return;
  state.answered = true;
  const q = state.questions[state.currentQ];
  const input = document.getElementById('fillInput').value.trim().toLowerCase();
  const correct = q.answer.some(a => input === a.toLowerCase());
  if (correct) state.score++;

  const inputEl = document.getElementById('fillInput');
  inputEl.style.borderColor = correct ? 'var(--easy)' : 'var(--coral)';
  inputEl.disabled = true;

  showFeedback(correct, q.explain, correct ? null : `Accepted answers: ${q.answer.join(', ')}`);
}

function submitShort() {
  if (state.answered) return;
  state.answered = true;
  const q = state.questions[state.currentQ];
  const input = document.getElementById('shortInput').value.trim().toLowerCase();
  
  // Score based on keyword matching
  const matchedKeywords = q.keywords.filter(kw => input.includes(kw.toLowerCase()));
  const score = matchedKeywords.length / q.keywords.length;
  const correct = score >= 0.3; // Need at least 30% of keywords
  if (correct) state.score++;

  const inputEl = document.getElementById('shortInput');
  inputEl.style.borderColor = correct ? 'var(--easy)' : 'var(--coral)';
  inputEl.disabled = true;

  const detail = `Keywords found: ${matchedKeywords.length}/${q.keywords.length}. ${correct ? 'Good job!' : 'Try to include more key concepts.'}`;
  showFeedback(correct, q.explain, detail);
}

function showFeedback(correct, explain, extra) {
  const fb = document.getElementById('feedback');
  fb.className = 'feedback ' + (correct ? 'correct' : 'wrong');
  fb.innerHTML = `<strong>${correct ? '‚úì Correct!' : '‚úó Incorrect'}</strong>${explain}${extra ? '<br><em>' + extra + '</em>' : ''}`;
  document.getElementById('nextBtn').style.display = 'block';
  document.getElementById('quizScore').textContent = `Score: ${state.score}`;
}

function nextQuestion() {
  state.currentQ++;
  renderQuestion();
}

// ============================================================
// DIFFICULTY ADJUSTMENT DURING QUIZ
// ============================================================
function adjustDiff(diff) {
  state.difficulty = diff;
  // Rebuild remaining questions
  const remaining = state.questions.length - state.currentQ - 1;
  if (remaining > 0) {
    const pool = QUESTIONS[state.course].questions.filter(q => {
      const diffOk = diff === 'mixed' || q.diff === diff;
      const fmtOk = state.formats.includes('all') || state.formats.includes(q.type);
      const notUsed = !state.questions.slice(0, state.currentQ + 1).includes(q);
      return diffOk && fmtOk && notUsed;
    }).sort(() => Math.random() - 0.5);

    const newQs = pool.slice(0, remaining);
    state.questions = [...state.questions.slice(0, state.currentQ + 1), ...newQs];
  }
  updateDiffButtons();
}

function updateDiffButtons() {
  document.querySelectorAll('.adjust-btn').forEach(b => {
    b.classList.toggle('active-diff', b.dataset.adj === state.difficulty);
  });
}

// ============================================================
// RESULTS
// ============================================================
function showResults() {
  showScreen('results');
  const pct = Math.round((state.score / state.questions.length) * 100);
  const circ = document.getElementById('scoreCircle');
  const offset = 553 - (553 * pct / 100);
  
  setTimeout(() => {
    circ.style.strokeDashoffset = offset;
    document.getElementById('finalPercent').textContent = pct + '%';
  }, 100);

  document.getElementById('statCorrect').textContent = state.score;
  document.getElementById('statWrong').textContent = state.questions.length - state.score;
  document.getElementById('statTotal').textContent = state.questions.length;
  document.getElementById('progressBar').style.width = '100%';

  let msg, detail;
  if (pct >= 90) { msg = 'Outstanding!'; detail = 'You have an excellent grasp of this material.'; }
  else if (pct >= 70) { msg = 'Great work!'; detail = 'Solid understanding with room for improvement.'; }
  else if (pct >= 50) { msg = 'Getting there!'; detail = 'Keep studying and try again at a lower difficulty.'; }
  else { msg = 'Keep practicing!'; detail = 'Consider reviewing the material and trying easier questions first.'; }

  document.getElementById('resultsMessage').textContent = msg;
  document.getElementById('resultsDetail').textContent = detail;
}

// ============================================================
// INIT
// ============================================================
renderCourses();
</script>
</body>
</html>
